{% extends 'manager/base.html' %}
{% load static %}
{% block content %}
<div class="content-body">
    <div class="container-fluid">

        <!-- Breadcrumb -->
        <div class="row">
            <div class="col-xl-12">
                <div class="page-titles">
                    <nav style="--bs-breadcrumb-divider: '>';">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="admin-dashboard.html">Dashboard</a></li>
                            <li class="breadcrumb-item active">Reports</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>

        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">Reports & Analytics</h1>
            <div class="date-range-selector">
                <input type="date" class="date-input" value="2025-10-01" />
                <span style="font-weight: 600;">to</span>
                <input type="date" class="date-input" value="2025-10-14" />
                <button class="btn-export">
                    <i class="material-icons" style="font-size: 18px;">download</i>
                    Export CSV
                </button>
            </div>
        </div>

        <!-- Report Summary Cards -->
        <div class="reports-grid">
            <div class="report-card">
                <div class="report-icon revenue">
                    <i class="material-icons">attach_money</i>
                </div>
                <div class="report-title">Total Revenue</div>
                <div class="report-value">$248,350</div>
                <div class="report-change up">
                    <i class="material-icons" style="font-size: 16px;">trending_up</i>
                    +18.4% vs last period
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon users">
                    <i class="material-icons">group</i>
                </div>
                <div class="report-title">Active Users</div>
                <div class="report-value">2,847</div>
                <div class="report-change up">
                    <i class="material-icons" style="font-size: 16px;">trending_up</i>
                    +12.3% vs last period
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon trades">
                    <i class="material-icons">sync_alt</i>
                </div>
                <div class="report-title">Total Trades</div>
                <div class="report-value">48,293</div>
                <div class="report-change up">
                    <i class="material-icons" style="font-size: 16px;">trending_up</i>
                    +8.7% vs last period
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon profits">
                    <i class="material-icons">savings</i>
                </div>
                <div class="report-title">Platform Profit</div>
                <div class="report-value">$84,240</div>
                <div class="report-change up">
                    <i class="material-icons" style="font-size: 16px;">trending_up</i>
                    +24.1% vs last period
                </div>
            </div>
        </div>

        <!-- Revenue Chart -->
        <div class="charts-section">
            <h3 class="section-title">
                <i class="material-icons">show_chart</i>
                Revenue Trend (Last 30 Days)
            </h3>
            <div class="chart-placeholder">
                Chart.js / ApexCharts Revenue Line Chart Goes Here
            </div>
        </div>

        <!-- User Activity Chart -->
        <div class="charts-section">
            <h3 class="section-title">
                <i class="material-icons">people_outline</i>
                User Activity (Last 30 Days)
            </h3>
            <div class="chart-placeholder">
                Chart.js / ApexCharts User Activity Bar Chart Goes Here
            </div>
        </div>

        <!-- Top Traders Table -->
        <div class="data-table-card">
            <div style="padding: 24px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">
                <h3 class="section-title" style="margin: 0;">
                    <i class="material-icons">emoji_events</i>
                    Top Performing Traders
                </h3>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Trader</th>
                        <th>Total Copiers</th>
                        <th>Total Volume</th>
                        <th>Platform Revenue</th>
                        <th>Win Rate</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong style="font-size: 18px; color: #f59e0b;">#1</strong></td>
                        <td><strong>John Crypto</strong></td>
                        <td>1,234</td>
                        <td>$2,847,390</td>
                        <td style="color: #10b981; font-weight: 700;">$28,473</td>
                        <td><strong>96%</strong></td>
                    </tr>
                    <tr>
                        <td><strong style="font-size: 18px; color: #9ca3af;">#2</strong></td>
                        <td><strong>Sarah Master</strong></td>
                        <td>987</td>
                        <td>$1,923,840</td>
                        <td style="color: #10b981; font-weight: 700;">$19,238</td>
                        <td><strong>87%</strong></td>
                    </tr>
                    <tr>
                        <td><strong style="font-size: 18px; color: #c07a44;">#3</strong></td>
                        <td><strong>Mike Pro</strong></td>
                        <td>756</td>
                        <td>$1,482,930</td>
                        <td style="color: #10b981; font-weight: 700;">$14,829</td>
                        <td><strong>95%</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Transaction Summary Table -->
        <div class="data-table-card">
            <div style="padding: 24px; background: #f9fafb; border-bottom: 2px solid #e5e7eb;">
                <h3 class="section-title" style="margin: 0;">
                    <i class="material-icons">account_balance_wallet</i>
                    Transaction Summary
                </h3>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Total Count</th>
                        <th>Total Volume</th>
                        <th>Avg Transaction</th>
                        <th>Platform Fees</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Deposits</strong></td>
                        <td>1,847</td>
                        <td style="color: #10b981; font-weight: 700;">$3,284,930</td>
                        <td>$1,778</td>
                        <td style="color: #10b981; font-weight: 700;">$0</td>
                    </tr>
                    <tr>
                        <td><strong>Withdrawals</strong></td>
                        <td>923</td>
                        <td style="color: #ef4444; font-weight: 700;">$1,847,292</td>
                        <td>$2,001</td>
                        <td style="color: #10b981; font-weight: 700;">$46,182</td>
                    </tr>
                    <tr>
                        <td><strong>Trades</strong></td>
                        <td>48,293</td>
                        <td>$28,392,847</td>
                        <td>$588</td>
                        <td style="color: #10b981; font-weight: 700;">$42,589</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>
{% endblock content %}
{% block extra_scripts %}
<script>
    // Mobile Sidebar Toggle
    (function() {
        let overlay = document.querySelector('.sidebar-overlay');
        if (!overlay) {
            overlay = document.createElement('div');
            overlay.className = 'sidebar-overlay';
            document.body.appendChild(overlay);
        }

        const hamburger = document.querySelector('.hamburger');
        const sidebar = document.querySelector('.dlabnav');

        if (hamburger && sidebar) {
            hamburger.addEventListener('click', function(e) {
                e.stopPropagation();
                hamburger.classList.toggle('is-active');
                sidebar.classList.toggle('active');
                overlay.classList.toggle('active');
                document.body.style.overflow = sidebar.classList.contains('active') ? 'hidden' : '';
            });

            overlay.addEventListener('click', function() {
                hamburger.classList.remove('is-active');
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            });

            sidebar.querySelectorAll('a').forEach(function(link) {
                link.addEventListener('click', function() {
                    if (window.innerWidth < 768) {
                        setTimeout(function() {
                            hamburger.classList.remove('is-active');
                            sidebar.classList.remove('active');
                            overlay.classList.remove('active');
                            document.body.style.overflow = '';
                        }, 300);
                    }
                });
            });

            window.addEventListener('resize', function() {
                if (window.innerWidth >= 768) {
                    hamburger.classList.remove('is-active');
                    sidebar.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        }
    })();

</script>
{% endblock extra_scripts %}