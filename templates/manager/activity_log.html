{% extends 'manager/base.html' %}
{% load static %}
{% block content %}
<div class="content-body">
    <div class="container-fluid">

        <!-- Page Header -->
        <div class="row">
            <div class="col-xl-12">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <div>
                        <h2 style="font-size: 24px; font-weight: 700; color: #1a1a1a; margin: 0;">User Activity Logs</h2>
                        <p style="color: #64748b; font-size: 14px; margin-top: 4px;">Monitor and track all user activities and login history</p>
                    </div>
                    <div>
                        <button style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; border: none; padding: 12px 24px; border-radius: 10px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;" onclick="exportLogs()">
                            <i class="material-icons">download</i>
                            Export Logs
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filters Card -->
        <div class="row">
            <div class="col-xl-12">
                <div class="card" style="background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                    <h4 style="font-size: 16px; font-weight: 700; color: #1a1a1a; margin-bottom: 20px;">Filter Activity Logs</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 6px;">Search User</label>
                            <input type="text" id="searchUser" placeholder="Username, email, or ID..." style="width: 100%; height: 44px; padding: 0 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 6px;">Activity Type</label>
                            <select id="activityType" style="width: 100%; height: 44px; padding: 0 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                                <option value="">All Activities</option>
                                <option value="login">Login</option>
                                <option value="logout">Logout</option>
                                <option value="deposit">Deposit</option>
                                <option value="withdrawal">Withdrawal</option>
                                <option value="trade">Trade</option>
                                <option value="kyc">KYC Update</option>
                                <option value="profile">Profile Update</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 6px;">Date Range</label>
                            <select id="dateRange" style="width: 100%; height: 44px; padding: 0 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                                <option value="today">Today</option>
                                <option value="yesterday">Yesterday</option>
                                <option value="7days">Last 7 Days</option>
                                <option value="30days">Last 30 Days</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; font-size: 13px; font-weight: 600; color: #475569; margin-bottom: 6px;">Status</label>
                            <select id="statusFilter" style="width: 100%; height: 44px; padding: 0 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                                <option value="">All Status</option>
                                <option value="success">Success</option>
                                <option value="failed">Failed</option>
                                <option value="suspicious">Suspicious</option>
                            </select>
                        </div>
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: flex-end;">
                        <button style="background: white; color: #64748b; border: 2px solid #e5e7eb; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 6px;" onclick="resetFilters()">
                            <i class="material-icons">refresh</i>
                            Reset
                        </button>
                        <button style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 6px;" onclick="applyFilters()">
                            <i class="material-icons">search</i>
                            Apply Filters
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Stats -->
        <div class="row">
            <div class="col-xl-3 col-lg-6 col-md-6">
                <div class="card" style="background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); margin-bottom: 24px;">
                    <div style="width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <i class="material-icons" style="font-size: 28px; color: white;">login</i>
                    </div>
                    <div>
                        <h3 style="font-size: 28px; font-weight: 700; color: #1a1a1a; margin: 0 0 4px 0;">1,247</h3>
                        <p style="font-size: 13px; color: #64748b; margin: 0; font-weight: 500;">Total Logins Today</p>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6">
                <div class="card" style="background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); margin-bottom: 24px;">
                    <div style="width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <i class="material-icons" style="font-size: 28px; color: white;">error_outline</i>
                    </div>
                    <div>
                        <h3 style="font-size: 28px; font-weight: 700; color: #1a1a1a; margin: 0 0 4px 0;">23</h3>
                        <p style="font-size: 13px; color: #64748b; margin: 0; font-weight: 500;">Failed Attempts</p>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6">
                <div class="card" style="background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); margin-bottom: 24px;">
                    <div style="width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <i class="material-icons" style="font-size: 28px; color: white;">people</i>
                    </div>
                    <div>
                        <h3 style="font-size: 28px; font-weight: 700; color: #1a1a1a; margin: 0 0 4px 0;">892</h3>
                        <p style="font-size: 13px; color: #64748b; margin: 0; font-weight: 500;">Active Users</p>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6">
                <div class="card" style="background: white; border-radius: 12px; padding: 20px; display: flex; align-items: center; gap: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); margin-bottom: 24px;">
                    <div style="width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                        <i class="material-icons" style="font-size: 28px; color: white;">warning</i>
                    </div>
                    <div>
                        <h3 style="font-size: 28px; font-weight: 700; color: #1a1a1a; margin: 0 0 4px 0;">7</h3>
                        <p style="font-size: 13px; color: #64748b; margin: 0; font-weight: 500;">Suspicious Activities</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Table -->
        <div class="row">
            <div class="col-xl-12">
                <div class="card" style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 24px; border-bottom: 1px solid #e5e7eb;">
                        <h4 style="font-size: 16px; font-weight: 700; color: #1a1a1a; margin: 0;">Recent Activity Logs</h4>
                        <button style="background: #f8fafc; border: 1px solid #e5e7eb; padding: 8px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center;" onclick="refreshTable()">
                            <i class="material-icons" style="font-size: 20px; color: #64748b;">refresh</i>
                        </button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Timestamp</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">User</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Activity</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Description</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">IP Address</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Status</th>
                                    <th style="text-align: left; padding: 16px; font-size: 12px; font-weight: 600; color: #6b7280; text-transform: uppercase;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid #e5e7eb;">
                                    <td style="padding: 16px;">
                                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">Oct 25, 2025</div>
                                        <div style="font-size: 12px; color: #64748b;">14:32:15</div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">JS</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: #1a1a1a;">John Smith</div>
                                                <div style="font-size: 12px; color: #64748b;">john@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #dbeafe; color: #1e40af;">
                                            <i class="material-icons" style="font-size: 16px;">login</i>
                                            Login
                                        </span>
                                    </td>
                                    <td style="padding: 16px; font-size: 14px; color: #1a1a1a;">User logged in successfully</td>
                                    <td style="padding: 16px;">
                                        <span style="font-family: 'Courier New', monospace; font-size: 13px; color: #475569; background: #f1f5f9; padding: 4px 8px; border-radius: 4px;">192.168.1.100</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-block; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #d1fae5; color: #065f46;">SUCCESS</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <button style="background: #f8fafc; border: 1px solid #e5e7eb; padding: 6px; border-radius: 6px; cursor: pointer;" onclick="viewDetails(1)">
                                            <i class="material-icons" style="font-size: 18px; color: #64748b;">visibility</i>
                                        </button>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid #e5e7eb;">
                                    <td style="padding: 16px;">
                                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">Oct 25, 2025</div>
                                        <div style="font-size: 12px; color: #64748b;">14:28:42</div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">SJ</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: #1a1a1a;">Sarah Johnson</div>
                                                <div style="font-size: 12px; color: #64748b;">sarah@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #d1fae5; color: #065f46;">
                                            <i class="material-icons" style="font-size: 16px;">account_balance_wallet</i>
                                            Deposit
                                        </span>
                                    </td>
                                    <td style="padding: 16px; font-size: 14px; color: #1a1a1a;">Deposited $5,000 via Bank Transfer</td>
                                    <td style="padding: 16px;">
                                        <span style="font-family: 'Courier New', monospace; font-size: 13px; color: #475569; background: #f1f5f9; padding: 4px 8px; border-radius: 4px;">203.45.12.88</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-block; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #d1fae5; color: #065f46;">SUCCESS</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <button style="background: #f8fafc; border: 1px solid #e5e7eb; padding: 6px; border-radius: 6px; cursor: pointer;" onclick="viewDetails(2)">
                                            <i class="material-icons" style="font-size: 18px; color: #64748b;">visibility</i>
                                        </button>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid #e5e7eb;">
                                    <td style="padding: 16px;">
                                        <div style="font-size: 13px; font-weight: 600; color: #1a1a1a;">Oct 25, 2025</div>
                                        <div style="font-size: 12px; color: #64748b;">14:25:19</div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">MC</div>
                                            <div>
                                                <div style="font-size: 14px; font-weight: 600; color: #1a1a1a;">Michael Chen</div>
                                                <div style="font-size: 12px; color: #64748b;">michael@example.com</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #dbeafe; color: #1e40af;">
                                            <i class="material-icons" style="font-size: 16px;">login</i>
                                            Login
                                        </span>
                                    </td>
                                    <td style="padding: 16px; font-size: 14px; color: #1a1a1a;">Failed login - Incorrect password</td>
                                    <td style="padding: 16px;">
                                        <span style="font-family: 'Courier New', monospace; font-size: 13px; font-weight: 600; color: #991b1b; background: #fee2e2; padding: 4px 8px; border-radius: 4px;">45.123.67.89</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <span style="display: inline-block; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: 600; background: #fee2e2; color: #991b1b;">FAILED</span>
                                    </td>
                                    <td style="padding: 16px;">
                                        <button style="background: #f8fafc; border: 1px solid #e5e7eb; padding: 6px; border-radius: 6px; cursor: pointer;" onclick="viewDetails(3)">
                                            <i class="material-icons" style="font-size: 18px; color: #64748b;">visibility</i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination -->
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 24px; border-top: 1px solid #e5e7eb;">
                        <div style="font-size: 14px; color: #64748b;">Showing 1 to 3 of 1,247 entries</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button style="background: white; border: 1px solid #e5e7eb; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; color: #64748b; cursor: pointer;" disabled>
                                <i class="material-icons" style="font-size: 20px;">chevron_left</i>
                            </button>
                            <button style="background: #ef4444; color: white; border: 1px solid #ef4444; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; min-width: 36px;">1</button>
                            <button style="background: white; border: 1px solid #e5e7eb; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; color: #64748b; cursor: pointer; min-width: 36px;">2</button>
                            <button style="background: white; border: 1px solid #e5e7eb; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; color: #64748b; cursor: pointer; min-width: 36px;">3</button>
                            <span style="color: #64748b; padding: 0 4px;">...</span>
                            <button style="background: white; border: 1px solid #e5e7eb; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; color: #64748b; cursor: pointer; min-width: 36px;">156</button>
                            <button style="background: white; border: 1px solid #e5e7eb; padding: 8px 12px; border-radius: 6px; font-size: 14px; font-weight: 600; color: #64748b; cursor: pointer;">
                                <i class="material-icons" style="font-size: 20px;">chevron_right</i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock content %}

{% block extra_scripts %}
<script>
    function exportLogs() {
        alert('Exporting activity logs to CSV...');
    }

    function resetFilters() {
        document.getElementById('searchUser').value = '';
        document.getElementById('activityType').value = '';
        document.getElementById('dateRange').value = 'today';
        document.getElementById('statusFilter').value = '';
        alert('Filters have been reset!');
    }

    function applyFilters() {
        alert('Filters applied!');
    }

    function refreshTable() {
        alert('Refreshing activity logs...');
        location.reload();
    }

    function viewDetails(activityId) {
        alert('Viewing details for activity ID: ' + activityId);
    }
</script>
{% endblock extra_scripts %}