{% extends 'manager/base.html' %}
{% load static %}
{% block content %}
<div class="content-body">
	<div class="container-fluid">

		<!-- Breadcrumb -->
		<div class="row">
			<div class="col-xl-12">
				<div class="page-titles">
					<nav style="--bs-breadcrumb-divider: '>';">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="admin-dashboard.html">Dashboard</a></li>
							<li class="breadcrumb-item"><a href="users-list.html">Users</a></li>
							<li class="breadcrumb-item active">John Doe</li>
						</ol>
					</nav>
				</div>
			</div>
		</div>

		<!-- Page Header -->
		<div class="page-header">
			<div class="page-title-section">
				<a href="users-list.html" class="back-button">
					<i class="material-icons">arrow_back</i>
				</a>
				<div>
					<h1 class="page-title">John Doe</h1>
					<span class="user-id-badge">ID: USR-12345</span>
				</div>
			</div>
			<div class="page-actions">
				<button class="btn-action btn-edit" data-bs-toggle="modal" data-bs-target="#badgeModal" style="background: #fef3c7; color: #92400e;">
					<i class="material-icons" style="font-size: 18px;">workspace_premium</i>
					Manage Badges
				</button>
				<button class="btn-action btn-suspend">
					<i class="material-icons" style="font-size: 18px;">block</i>
					Suspend User
				</button>
			</div>
		</div>

		<!-- User Credentials Card -->
		<div class="user-credentials-card">
			<div class="credentials-title">
				<i class="material-icons">vpn_key</i>
				User Credentials & Information
			</div>
			<div class="credentials-grid">
				<!-- User ID -->
				<div class="credential-item">
					<div class="credential-label">User ID</div>
					<div class="credential-value">
						<input type="text" value="USR-12345" readonly onclick="this.select()" />
						<button class="btn-copy-credential" onclick="copyToClipboard('USR-12345', 'User ID')">
							<i class="material-icons">content_copy</i>
							Copy
						</button>
					</div>
				</div>

				<!-- Username -->
				<div class="credential-item">
					<div class="credential-label">Username</div>
					<div class="credential-value">
						<input type="text" value="johndoe" readonly onclick="this.select()" />
						<button class="btn-copy-credential" onclick="copyToClipboard('johndoe', 'Username')">
							<i class="material-icons">content_copy</i>
							Copy
						</button>
					</div>
				</div>

				<!-- Email -->
				<div class="credential-item">
					<div class="credential-label">Email Address</div>
					<div class="credential-value">
						<input type="text" value="johndoe@example.com" readonly onclick="this.select()" />
						<button class="btn-copy-credential" onclick="copyToClipboard('johndoe@example.com', 'Email')">
							<i class="material-icons">content_copy</i>
							Copy
						</button>
					</div>
				</div>

				<!-- Password -->
				<div class="credential-item">
					<div class="credential-label">Password</div>
					<div class="credential-value">
						<input type="text" value="Hj8#mK$2pL9@vN" readonly onclick="this.select()" />
						<button class="btn-copy-credential" onclick="copyToClipboard('Hj8#mK$2pL9@vN', 'Password')">
							<i class="material-icons">content_copy</i>
							Copy
						</button>
					</div>
				</div>

				<!-- 2FA Secret Key -->
				<div class="credential-item full-width">
					<div class="credential-label">2FA Secret Key (Google Authenticator)</div>
					<div class="credential-value">
						<input type="text" value="JBSWY3DPEHPK3PXP" readonly onclick="this.select()" style="letter-spacing: 2px;" />
						<button class="btn-copy-credential" onclick="copyToClipboard('JBSWY3DPEHPK3PXP', '2FA Secret Key')">
							<i class="material-icons">content_copy</i>
							Copy
						</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Quick Navigation -->
		<div class="card mb-4" style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
			<h5 class="mb-3" style="font-size: 16px; font-weight: 700; color: #1a1a1a;">
				<i class="material-icons" style="vertical-align: middle; font-size: 20px;">navigation</i>
				Quick Navigation
			</h5>
			<div class="d-flex flex-wrap gap-2">
				<a href="#overview-section" class="btn btn-sm btn-outline-primary">Overview</a>
				<a href="#verification-section" class="btn btn-sm btn-outline-primary">KYC & Verification</a>
				<a href="#transactions-section" class="btn btn-sm btn-outline-primary">Transactions</a>
				<a href="#deposits-section" class="btn btn-sm btn-outline-primary">Deposits</a>
				<a href="#withdrawals-section" class="btn btn-sm btn-outline-primary">Withdrawals</a>
				<a href="#manual-trading-section" class="btn btn-sm btn-outline-primary">Manual Trading</a>
				<a href="#plans-section" class="btn btn-sm btn-outline-primary">Plans</a>
				<a href="#payment-methods-section" class="btn btn-sm btn-outline-primary">Payment Methods</a>
				<a href="#personal-info-section" class="btn btn-sm btn-outline-primary">Personal Info</a>
				<a href="#settings-section" class="btn btn-sm btn-outline-primary">Settings</a>
			</div>
		</div>

		<!-- User Header Card -->
		<div class="user-header-card">
			<div class="user-header-content">
				<div class="user-avatar">JD</div>
				<div class="user-info">
					<h2 class="user-name">John Doe</h2>
					<div class="user-badges">
						<span class="status-badge active">
							<i class="material-icons" style="font-size: 14px;">check_circle</i>
							Active
						</span>
						<span class="status-badge verified">
							<i class="material-icons" style="font-size: 14px;">verified</i>
							KYC Level 3
						</span>
						<span class="status-badge tier">
							<i class="material-icons" style="font-size: 14px;">star</i>
							Tier 2 (200X Leverage)
						</span>
					</div>
				</div>
				<div class="user-stats">
					<div class="stat-item">
						<div class="stat-label">Registration Date</div>
						<div class="stat-value">Jan 15, 2024</div>
					</div>
					<div class="stat-item">
						<div class="stat-label">Last Login</div>
						<div class="stat-value">Today, 2:30 PM</div>
					</div>
					<div class="stat-item">
						<div class="stat-label">IP Address</div>
						<div class="stat-value">192.168.1.100</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Wallet Balance Card -->
		<div class="wallet-balance-card">
			<div class="wallet-card-header">
				<h3 class="wallet-card-title">
					<i class="material-icons">account_balance_wallet</i>
					Account Balances
				</h3>
				<button class="btn-edit-balance" data-bs-toggle="modal" data-bs-target="#balanceModal">
					<i class="material-icons">edit</i>
					Edit Balances
				</button>
			</div>

			<div class="wallets-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
				<!-- Trading Balance Card -->
				<div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);">
					<div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
						<div style="background: rgba(102, 126, 234, 0.2); padding: 10px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
							<i class="material-icons" style="font-size: 28px; color: white;">trending_up</i>
						</div>
						<div style="font-size: 15px; font-weight: 500; color: white;">Trading Balance</div>
					</div>
					<div style="font-size: 32px; font-weight: 700; letter-spacing: -0.5px; color: white;" id="depositBalance">$30,180.50</div>
				</div>

				<!-- Holding Balance Card -->
				<div style="background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);">
					<div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
						<div style="background: rgba(240, 147, 251, 0.2); padding: 10px; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
							<i class="material-icons" style="font-size: 28px; color: white;">savings</i>
						</div>
						<div style="font-size: 15px; font-weight: 500; color: white;">Holding Balance</div>
					</div>
					<div style="font-size: 32px; font-weight: 700; letter-spacing: -0.5px; color: white;" id="holdingBalance">$8,450.00</div>
				</div>
			</div>
		</div>

		<!-- Take Manual Trade -->
		<div class="info-card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: 2px solid #fbbf24;">
			<div class="card-header" style="border-bottom: 2px solid #fbbf24;">
				<h3 class="card-title" style="color: #92400e;">
					<i class="material-icons" style="color: #f59e0b;">add_circle</i>
					Take Manual Trade for User
				</h3>
			</div>
			<p style="margin: 0 0 20px 0; color: #92400e; font-size: 13px;">
				<i class="material-icons" style="font-size: 16px; vertical-align: middle;">info</i>
				Create a manual trade position for this user. The trade will execute immediately and close automatically based on the duration and outcome you set.
			</p>
			<button class="btn-action" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 14px 28px; width: auto;" data-bs-toggle="modal" data-bs-target="#takeTradeModal">
				<i class="material-icons" style="font-size: 20px;">trending_up</i>
				Take Trade
			</button>
		</div>

		<!-- Traders User is Copying -->
		<div class="info-card">
			<div class="card-header">
				<h3 class="card-title">
					<i class="material-icons">person</i>
					Traders User is Copying
				</h3>
			</div>
			<div style="overflow-x: auto;">
				<table class="data-table">
					<thead>
						<tr>
							<th>Trader</th>
							<th>Copy Amount</th>
							<th>Active Trades</th>
							<th>Profit/Loss</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>
								<div style="display: flex; align-items: center; gap: 10px;">
									<div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, #01A3FF 0%, #0284c7 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">JD</div>
									<div>
										<div style="font-weight: 600;">John Doe</div>
										<div style="font-size: 12px; color: #6b7280;">@johndoe</div>
									</div>
								</div>
							</td>
							<td>$500 per trade</td>
							<td>5 trades</td>
							<td style="color: #10b981; font-weight: 600;">+$1,245.50</td>
							<td><span class="status-chip completed" style="background: #d1fae5; color: #065f46;">Active</span></td>
							<td>
								<form method="POST" action="" style="display: inline;">
									<input type="hidden" name="action" value="stop_copying">
									<input type="hidden" name="trader_username" value="johndoe">
									<button type="submit" class="btn-icon" style="background: #fef3c7; color: #92400e;">
										<i class="material-icons" style="font-size: 18px;">stop_circle</i>
									</button>
								</form>
							</td>
						</tr>
						<tr>
							<td>
								<div style="display: flex; align-items: center; gap: 10px;">
									<div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">SK</div>
									<div>
										<div style="font-weight: 600;">Sarah Kim</div>
										<div style="font-size: 12px; color: #6b7280;">@sarahkim</div>
									</div>
								</div>
							</td>
							<td>$750 per trade</td>
							<td>4 trades</td>
							<td style="color: #10b981; font-weight: 600;">+$892.30</td>
							<td><span class="status-chip completed" style="background: #d1fae5; color: #065f46;">Active</span></td>
							<td>
								<form method="POST" action="" style="display: inline;">
									<input type="hidden" name="action" value="stop_copying">
									<input type="hidden" name="trader_username" value="sarahkim">
									<button type="submit" class="btn-icon" style="background: #fef3c7; color: #92400e;">
										<i class="material-icons" style="font-size: 18px;">stop_circle</i>
									</button>
								</form>
							</td>
						</tr>
						<tr>
							<td>
								<div style="display: flex; align-items: center; gap: 10px;">
									<div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600;">ML</div>
									<div>
										<div style="font-weight: 600;">Mike Lee</div>
										<div style="font-size: 12px; color: #6b7280;">@mikelee</div>
									</div>
								</div>
							</td>
							<td>$300 per trade</td>
							<td>3 trades</td>
							<td style="color: #ef4444; font-weight: 600;">-$125.00</td>
							<td><span class="status-chip completed" style="background: #d1fae5; color: #065f46;">Active</span></td>
							<td>
								<form method="POST" action="" style="display: inline;">
									<input type="hidden" name="action" value="stop_copying">
									<input type="hidden" name="trader_username" value="mikelee">
									<button type="submit" class="btn-icon" style="background: #fef3c7; color: #92400e;">
										<i class="material-icons" style="font-size: 18px;">stop_circle</i>
									</button>
								</form>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- Recent Trades -->
		<div class="info-card">
			<div class="card-header">
				<h3 class="card-title">
					<i class="material-icons">show_chart</i>
					Recent Trades
				</h3>
				<button class="card-action-btn">
					<i class="material-icons" style="font-size: 16px;">filter_list</i>
					Filter
				</button>
			</div>
			<div style="overflow-x: auto;">
				<table class="data-table">
					<thead>
						<tr>
							<th>Time</th>
							<th>Pair</th>
							<th>Type</th>
							<th>Amount</th>
							<th>Entry Price</th>
							<th>Exit Price</th>
							<th>Profit/Loss</th>
							<th>Status</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>2:45 PM</td>
							<td>BTC/USDT</td>
							<td>Long</td>
							<td>$1,000</td>
							<td>$42,150</td>
							<td>$42,580</td>
							<td class="amount-positive">+$105.00</td>
							<td><span class="status-chip completed">Closed</span></td>
						</tr>
						<tr>
							<td>1:30 PM</td>
							<td>ETH/USDT</td>
							<td>Short</td>
							<td>$500</td>
							<td>$2,280</td>
							<td>$2,240</td>
							<td class="amount-positive">+$87.50</td>
							<td><span class="status-chip completed">Closed</span></td>
						</tr>
						<tr>
							<td>12:15 PM</td>
							<td>BTC/USDT</td>
							<td>Long</td>
							<td>$2,000</td>
							<td>$42,000</td>
							<td>-</td>
							<td>-</td>
							<td><span class="status-chip pending">Open</span></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- Recent Manual Trades -->
		<div class="info-card">
			<div class="card-header">
				<h3 class="card-title">
					<i class="material-icons">history</i>
					Recent Manual Trades
				</h3>
			</div>
			<div style="overflow-x: auto;">
				<table class="data-table">
					<thead>
						<tr>
							<th>Date</th>
							<th>Pair</th>
							<th>Direction</th>
							<th>Amount</th>
							<th>Leverage</th>
							<th>Duration</th>
							<th>Result</th>
							<th>Profit/Loss</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>Jan 28, 2024 3:45 PM</td>
							<td><strong>BTC/USD</strong></td>
							<td><span class="status-chip completed" style="background: #d1fae5; color: #065f46;">Long</span></td>
							<td>$500</td>
							<td>50x</td>
							<td>5 min</td>
							<td><span class="status-chip completed" style="background: #d1fae5; color: #065f46;">Win</span></td>
							<td style="color: #10b981; font-weight: 600;">+$425.00</td>
						</tr>
						<tr>
							<td>Jan 28, 2024 2:30 PM</td>
							<td><strong>ETH/USD</strong></td>
							<td><span class="status-chip cancelled" style="background: #fee2e2; color: #991b1b;">Short</span></td>
							<td>$300</td>
							<td>25x</td>
							<td>15 min</td>
							<td><span class="status-chip cancelled" style="background: #fee2e2; color: #991b1b;">Loss</span></td>
							<td style="color: #ef4444; font-weight: 600;">-$300.00</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<!-- Section: Overview -->
		<div class="content-section" id="overview-section">
			<div class="row">
				<div class="col-xl-6">
					<div class="info-card">
						<div class="card-header">
							<h3 class="card-title">
								<i class="material-icons">speed</i>
								Account Statistics
							</h3>
						</div>
						<div class="info-grid">
							<div class="info-item">
								<div class="info-label">Total Deposits</div>
								<div class="info-value">$50,000</div>
							</div>
							<div class="info-item">
								<div class="info-label">Total Withdrawals</div>
								<div class="info-value">$15,000</div>
							</div>
							<div class="info-item">
								<div class="info-label">Total Trades</div>
								<div class="info-value">342</div>
							</div>
							<div class="info-item">
								<div class="info-label">Win Rate</div>
								<div class="info-value">68.5%</div>
							</div>
							<div class="info-item">
								<div class="info-label">Active Plans</div>
								<div class="info-value">2</div>
							</div>
							<div class="info-item">
								<div class="info-label">Referrals</div>
								<div class="info-value">7</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Section: KYC & Verification -->
		<div class="content-section" id="verification-section">
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">verified_user</i>
						KYC Verification Status
					</h3>
					<span class="status-chip approved">Level 3 Approved</span>
				</div>
				<div class="info-grid">
					<div class="info-item">
						<div class="info-label">KYC Level</div>
						<div class="info-value">Level 3 (Fully Verified)</div>
					</div>
					<div class="info-item">
						<div class="info-label">Verification Date</div>
						<div class="info-value">Jan 20, 2024</div>
					</div>
					<div class="info-item">
						<div class="info-label">Document Type</div>
						<div class="info-value">Driver's License</div>
					</div>
					<div class="info-item">
						<div class="info-label">Document Number</div>
						<div class="info-value">DL-12345678</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-xl-4">
					<div class="info-card">
						<h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">ID Front</h4>
						<div class="document-preview">
							<div style="width: 100%; height: 200px; background: #e5e7eb; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
								<i class="material-icons" style="font-size: 48px; color: #9ca3af;">insert_drive_file</i>
							</div>
							<div class="document-actions">
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">visibility</i>
									View
								</button>
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">download</i>
									Download
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="info-card">
						<h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">ID Back</h4>
						<div class="document-preview">
							<div style="width: 100%; height: 200px; background: #e5e7eb; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
								<i class="material-icons" style="font-size: 48px; color: #9ca3af;">insert_drive_file</i>
							</div>
							<div class="document-actions">
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">visibility</i>
									View
								</button>
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">download</i>
									Download
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-xl-4">
					<div class="info-card">
						<h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">Selfie</h4>
						<div class="document-preview">
							<div style="width: 100%; height: 200px; background: #e5e7eb; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
								<i class="material-icons" style="font-size: 48px; color: #9ca3af;">person</i>
							</div>
							<div class="document-actions">
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">visibility</i>
									View
								</button>
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">download</i>
									Download
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Address Verification -->
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">home</i>
						Address Verification Status
					</h3>
					<span class="status-chip approved">Approved</span>
				</div>
				<div class="info-grid">
					<div class="info-item">
						<div class="info-label">Verification Status</div>
						<div class="info-value">Approved</div>
					</div>
					<div class="info-item">
						<div class="info-label">Verification Date</div>
						<div class="info-value">Jan 22, 2024</div>
					</div>
					<div class="info-item">
						<div class="info-label">Document Type</div>
						<div class="info-value">Utility Bill</div>
					</div>
					<div class="info-item">
						<div class="info-label">Verified Address</div>
						<div class="info-value">123 Main Street, Apt 4B, New York</div>
					</div>
				</div>
			</div>

			<!-- Address Verification Document -->
			<div class="row">
				<div class="col-xl-12">
					<div class="info-card">
						<h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">Proof of Address Document</h4>
						<div class="document-preview">
							<div style="width: 100%; height: 200px; background: #e5e7eb; border-radius: 8px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
								<i class="material-icons" style="font-size: 48px; color: #9ca3af;">description</i>
							</div>
							<div class="document-actions">
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">visibility</i>
									View
								</button>
								<button class="card-action-btn">
									<i class="material-icons" style="font-size: 16px;">download</i>
									Download
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

		<!-- Section: Transactions -->
		<div class="content-section" id="transactions-section">
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">receipt_long</i>
						Transaction History
					</h3>
					<button class="card-action-btn">
						<i class="material-icons" style="font-size: 16px;">filter_list</i>
						Filter
					</button>
				</div>
				<div style="overflow-x: auto;">
					<table class="data-table">
						<thead>
							<tr>
								<th>Date</th>
								<th>Transaction ID</th>
								<th>Type</th>
								<th>Amount</th>
								<th>Status</th>
								<th>Payment Method</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Jan 28, 2024</td>
								<td>TXN-78945</td>
								<td>Deposit</td>
								<td class="amount-positive">+$5,000.00</td>
								<td><span class="status-chip completed">Completed</span></td>
								<td>Bitcoin (BTC)</td>
								<td>
									<button class="btn-icon">
										<i class="material-icons" style="font-size: 18px;">visibility</i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Jan 25, 2024</td>
								<td>TXN-78910</td>
								<td>Withdrawal</td>
								<td class="amount-negative">-$2,500.00</td>
								<td><span class="status-chip pending">Pending</span></td>
								<td>Bank Transfer</td>
								<td>
									<button class="btn-icon">
										<i class="material-icons" style="font-size: 18px;">visibility</i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Jan 20, 2024</td>
								<td>TXN-78823</td>
								<td>Deposit</td>
								<td class="amount-positive">+$10,000.00</td>
								<td><span class="status-chip completed">Completed</span></td>
								<td>USDT (TRC20)</td>
								<td>
									<button class="btn-icon">
										<i class="material-icons" style="font-size: 18px;">visibility</i>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<!-- Section: Manual Trading -->
		<div class="content-section" id="manual-trading-section">
			<!-- Copy Trading Status -->
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">content_copy</i>
						Copy Trading Status
					</h3>
				</div>
				<div class="info-grid">
					<div class="info-item">
						<div class="info-label">Currently Copying</div>
						<div class="info-value">3 Traders</div>
					</div>
					<div class="info-item">
						<div class="info-label">Active Copy Trades</div>
						<div class="info-value">12 Positions</div>
					</div>
					<div class="info-item">
						<div class="info-label">Manual Trades Taken</div>
						<div class="info-value">5 Trades</div>
					</div>
					<div class="info-item">
						<div class="info-label">Total Trading Volume</div>
						<div class="info-value">$25,450</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Section: Plans & Subscriptions -->
		<div class="content-section" id="plans-section">
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">stars</i>
						Active Plans
					</h3>
					<button class="card-action-btn">
						<i class="material-icons" style="font-size: 16px;">add</i>
						Assign Plan
					</button>
				</div>
				<div style="overflow-x: auto;">
					<table class="data-table">
						<thead>
							<tr>
								<th>Plan Type</th>
								<th>Plan Name</th>
								<th>Purchase Date</th>
								<th>Expiry Date</th>
								<th>Status</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Trading</td>
								<td>Gold Trading Plan</td>
								<td>Jan 15, 2024</td>
								<td>Feb 15, 2024</td>
								<td><span class="status-chip approved">Active</span></td>
								<td>
									<button class="btn-icon">
										<i class="material-icons" style="font-size: 18px;">visibility</i>
									</button>
									<button class="btn-icon delete">
										<i class="material-icons" style="font-size: 18px;">delete</i>
									</button>
								</td>
							</tr>
							<tr>
								<td>Mining</td>
								<td>Silver Mining Plan</td>
								<td>Jan 10, 2024</td>
								<td>Feb 10, 2024</td>
								<td><span class="status-chip approved">Active</span></td>
								<td>
									<button class="btn-icon">
										<i class="material-icons" style="font-size: 18px;">visibility</i>
									</button>
									<button class="btn-icon delete">
										<i class="material-icons" style="font-size: 18px;">delete</i>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<!-- Section: Payment Methods -->
		<div class="content-section" id="payment-methods-section">
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">payment</i>
						User's Payment Methods
					</h3>
				</div>
				<p style="color: #6b7280; margin-bottom: 20px;">Manage payment methods available to this specific user. These methods will be displayed only to this user during deposit/withdrawal.</p>

				<div class="payment-methods-grid">
					<!-- Bitcoin -->
					<div class="payment-method-card">
						<div class="payment-method-icon">
							<i class="material-icons" style="color: #f7931a;">currency_bitcoin</i>
						</div>
						<div class="payment-method-info">
							<div class="payment-method-name">Bitcoin (BTC)</div>
							<div class="payment-method-value">bc1qxy2k...fjhx0wlh</div>
						</div>
						<div class="payment-method-actions">
							<button class="btn-icon">
								<i class="material-icons" style="font-size: 18px;">edit</i>
							</button>
							<button class="btn-icon delete">
								<i class="material-icons" style="font-size: 18px;">delete</i>
							</button>
						</div>
					</div>

					<!-- USDT -->
					<div class="payment-method-card">
						<div class="payment-method-icon">
							<i class="material-icons" style="color: #26a17b;">attach_money</i>
						</div>
						<div class="payment-method-info">
							<div class="payment-method-name">USDT (TRC20)</div>
							<div class="payment-method-value">TXYZ...pjX4Mc</div>
						</div>
						<div class="payment-method-actions">
							<button class="btn-icon">
								<i class="material-icons" style="font-size: 18px;">edit</i>
							</button>
							<button class="btn-icon delete">
								<i class="material-icons" style="font-size: 18px;">delete</i>
							</button>
						</div>
					</div>

					<!-- Bank Transfer -->
					<div class="payment-method-card">
						<div class="payment-method-icon">
							<i class="material-icons" style="color: #3b82f6;">account_balance</i>
						</div>
						<div class="payment-method-info">
							<div class="payment-method-name">Bank Transfer</div>
							<div class="payment-method-value">Wells Fargo - **** 4532</div>
						</div>
						<div class="payment-method-actions">
							<button class="btn-icon">
								<i class="material-icons" style="font-size: 18px;">edit</i>
							</button>
							<button class="btn-icon delete">
								<i class="material-icons" style="font-size: 18px;">delete</i>
							</button>
						</div>
					</div>
				</div>

				<button class="btn-add-payment" data-bs-toggle="modal" data-bs-target="#paymentMethodModal">
					<i class="material-icons">add</i>
					Add Payment Method for This User
				</button>
			</div>
		</div>

		<!-- Section: Personal Information -->
		<div class="content-section" id="personal-info-section">
			<div class="info-card">
				<div class="card-header">
					<h3 class="card-title">
						<i class="material-icons">person</i>
						Personal Information
					</h3>
				</div>
				<div class="info-grid">
					<div class="info-item">
						<div class="info-label">Full Name</div>
						<div class="info-value">John Michael Doe</div>
					</div>
					<div class="info-item">
						<div class="info-label">Email</div>
						<div class="info-value">johndoe@example.com</div>
					</div>
					<div class="info-item">
						<div class="info-label">Phone</div>
						<div class="info-value">+1 (555) 123-4567</div>
					</div>
					<div class="info-item">
						<div class="info-label">Date of Birth</div>
						<div class="info-value">March 15, 1990</div>
					</div>
					<div class="info-item">
						<div class="info-label">Nationality</div>
						<div class="info-value">United States</div>
					</div>
					<div class="info-item">
						<div class="info-label">Registration Date</div>
						<div class="info-value">Jan 15, 2024</div>
					</div>
					<div class="info-item">
						<div class="info-label">Last Login</div>
						<div class="info-value">Today, 2:30 PM</div>
					</div>
					<div class="info-item">
						<div class="info-label">IP Address</div>
						<div class="info-value">192.168.1.100</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Section: Settings & Controls -->
		<div class="content-section" id="settings-section">
			<!-- Custom Verification Settings -->
			<div class="info-card" style="border: 2px solid #fbbf24; background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); margin-bottom: 24px;">
				<div class="card-header" style="border-bottom: 2px solid #fbbf24;">
					<h3 class="card-title" style="color: #92400e;">
						<i class="material-icons" style="color: #f59e0b;">settings</i>
						Custom Verification Settings
					</h3>
					<div style="display: flex; gap: 12px; align-items: center;">
						<span class="custom-settings-badge" id="customSettingsBadge" style="padding: 6px 12px; background: rgba(251, 191, 36, 0.2); border: 1px solid #fbbf24; border-radius: 6px; font-size: 12px; font-weight: 600; color: #92400e;">Using Global Settings</span>
						<label class="toggle-switch" style="position: relative; display: inline-block; width: 50px; height: 26px;">
							<input type="checkbox" id="customSettingsToggle" style="opacity: 0; width: 0; height: 0;">
							<span class="toggle-slider" style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #cbd5e1; border-radius: 26px; transition: .4s;"></span>
						</label>
					</div>
				</div>
				<p style="margin: 0 0 20px 0; color: #92400e; font-size: 13px;">
					<i class="material-icons" style="font-size: 16px; vertical-align: middle;">info</i>
					Enable custom settings to override global verification rules for this specific user
				</p>

				<form method="POST" action="" id="customSettingsForm">
					<input type="hidden" name="action" value="update_verification_settings">
					<input type="hidden" name="user_id" value="USR-12345">
					<input type="hidden" name="use_global" id="useGlobalInput" value="true">

					<div id="customSettingsContainer" style="opacity: 0.5; pointer-events: none;">
					<!-- KYC Settings -->
					<div class="custom-setting-section">
						<div class="setting-section-header">
							<i class="material-icons">badge</i>
							<h4>KYC Verification Override</h4>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Requirement Level</span>
								<span class="setting-description">Override KYC requirement for this user</span>
							</div>
							<select class="setting-select-custom" name="kyc_requirement">
								<option value="global">Use Global Settings</option>
								<option value="optional">Optional</option>
								<option value="required">Required</option>
								<option value="bypass">Bypass (VIP)</option>
							</select>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Custom Deposit Limit</span>
								<span class="setting-description">Maximum deposit amount (USD)</span>
							</div>
							<input type="number" class="setting-input-custom" name="custom_deposit_limit" placeholder="Enter amount or leave blank for unlimited" value="">
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Custom Withdrawal Limit</span>
								<span class="setting-description">Maximum withdrawal amount (USD)</span>
							</div>
							<input type="number" class="setting-input-custom" name="custom_withdrawal_limit" placeholder="Enter amount or leave blank for unlimited" value="">
						</div>
					</div>

					<!-- Address Verification Settings -->
					<div class="custom-setting-section">
						<div class="setting-section-header">
							<i class="material-icons">home</i>
							<h4>Address Verification Override</h4>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Requirement Level</span>
								<span class="setting-description">Override address verification requirement</span>
							</div>
							<select class="setting-select-custom" name="address_requirement">
								<option value="global">Use Global Settings</option>
								<option value="optional">Optional</option>
								<option value="required">Required</option>
								<option value="bypass">Bypass (VIP)</option>
							</select>
						</div>
					</div>

					<!-- Phone Verification Settings -->
					<div class="custom-setting-section">
						<div class="setting-section-header">
							<i class="material-icons">phone</i>
							<h4>Phone Verification Override</h4>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Requirement Level</span>
								<span class="setting-description">Override phone verification requirement</span>
							</div>
							<select class="setting-select-custom" name="phone_requirement">
								<option value="global">Use Global Settings</option>
								<option value="optional">Optional</option>
								<option value="required">Required</option>
								<option value="bypass">Bypass (VIP)</option>
							</select>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Custom OTP Resend Limit</span>
								<span class="setting-description">Max OTP resend attempts (per hour)</span>
							</div>
							<input type="number" class="setting-input-custom" name="otp_resend_limit" placeholder="Leave blank for global limit" value="">
						</div>
					</div>

					<!-- Email Verification Settings -->
					<div class="custom-setting-section">
						<div class="setting-section-header">
							<i class="material-icons">email</i>
							<h4>Email Verification Override</h4>
						</div>
						<div class="setting-row">
							<div class="setting-label-box">
								<span class="setting-label-text">Requirement Level</span>
								<span class="setting-description">Override email verification requirement</span>
							</div>
							<select class="setting-select-custom" name="email_requirement">
								<option value="global">Use Global Settings</option>
								<option value="optional">Optional</option>
								<option value="required">Required</option>
								<option value="bypass">Bypass (VIP)</option>
							</select>
						</div>
					</div>

					<!-- Action Buttons -->
					<div class="custom-settings-actions">
						<button type="reset" class="btn-reset-custom">
							<i class="material-icons">restart_alt</i>
							Reset to Global Settings
						</button>
						<button type="submit" class="btn-save-custom">
							<i class="material-icons">save</i>
							Save Custom Settings
						</button>
					</div>
					</div>
				</form>
			</div>

			<div class="row">
				<div class="col-xl-6">
					<div class="info-card">
						<div class="card-header">
							<h3 class="card-title">
								<i class="material-icons">tune</i>
								Trading Settings
							</h3>
						</div>
						<div class="info-grid">
							<div class="info-item">
								<div class="info-label">Current Tier</div>
								<select style="width: 100%; padding: 8px; border: 2px solid #e5e7eb; border-radius: 6px;">
									<option>Tier 1 (50X Leverage)</option>
									<option selected>Tier 2 (200X Leverage)</option>
									<option>Tier 3 (500X Leverage)</option>
								</select>
							</div>
							<div class="info-item">
								<div class="info-label">Max Leverage</div>
								<input type="number" value="200" style="width: 100%; padding: 8px; border: 2px solid #e5e7eb; border-radius: 6px;">
							</div>
							<div class="info-item">
								<div class="info-label">Allowed Timeframes</div>
								<div style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
									<label style="display: flex; align-items: center; gap: 4px;">
										<input type="checkbox" checked> 3s
									</label>
									<label style="display: flex; align-items: center; gap: 4px;">
										<input type="checkbox" checked> 1m
									</label>
									<label style="display: flex; align-items: center; gap: 4px;">
										<input type="checkbox" checked> 5m
									</label>
									<label style="display: flex; align-items: center; gap: 4px;">
										<input type="checkbox"> 15m
									</label>
									<label style="display: flex; align-items: center; gap: 4px;">
										<input type="checkbox"> 30m
									</label>
								</div>
							</div>
							<div class="info-item" style="grid-column: 1 / -1;">
								<div class="info-label">Copy Trading Circle (Days)</div>
								<div style="display: flex; gap: 10px; align-items: center;">
									<input type="number" id="copyTradingCircle" value="30" min="1" placeholder="Enter days" style="flex: 1; padding: 8px; border: 2px solid #e5e7eb; border-radius: 6px;">
									<button onclick="setCopyTradingCircle()" style="background: #f59e0b; color: white; border: none; padding: 8px 16px; border-radius: 6px; font-weight: 600; cursor: pointer; white-space: nowrap;">
										Set Circle
									</button>
								</div>
								<div style="font-size: 12px; color: #6b7280; margin-top: 6px;">
									Set the number of days for the copy trading cycle. This will start a countdown timer in the user's dashboard.
								</div>
							</div>
						</div>
						<button style="background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 16px;">
							Save Trading Settings
						</button>
					</div>

					<div class="info-card">
						<div class="card-header">
							<h3 class="card-title">
								<i class="material-icons">security</i>
								Security & Access
							</h3>
						</div>
						<div style="display: flex; flex-direction: column; gap: 12px;">
							<div class="security-item">
								<span class="security-item-label">2FA Enabled</span>
								<label class="toggle-switch">
									<input type="checkbox" checked>
									<span class="toggle-slider"></span>
								</label>
							</div>
							<div class="security-item">
								<span class="security-item-label">Email Notifications</span>
								<label class="toggle-switch">
									<input type="checkbox" checked>
									<span class="toggle-slider"></span>
								</label>
							</div>
							<div class="security-item">
								<span class="security-item-label">Trading Enabled</span>
								<label class="toggle-switch">
									<input type="checkbox" checked>
									<span class="toggle-slider"></span>
								</label>
							</div>
							<div class="security-item">
								<span class="security-item-label">Withdrawal Enabled</span>
								<label class="toggle-switch">
									<input type="checkbox" checked>
									<span class="toggle-slider"></span>
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="col-xl-6">
					<div class="info-card">
						<div class="card-header">
							<h3 class="card-title">
								<i class="material-icons">admin_panel_settings</i>
								Admin Actions
							</h3>
						</div>
						<div style="display: flex; flex-direction: column; gap: 12px;">
							<button data-bs-toggle="modal" data-bs-target="#resetPasswordModal" style="background: #3b82f6; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">password</i>
								Reset Password
							</button>
							<button data-bs-toggle="modal" data-bs-target="#emailModal" style="background: #8b5cf6; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">email</i>
								Send Email
							</button>
							<button data-bs-toggle="modal" data-bs-target="#notificationModal" style="background: #f59e0b; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">campaign</i>
								Send Notification
							</button>
							<button style="background: #f59e0b; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">block</i>
								Suspend Account
							</button>
							<button style="background: #ef4444; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">gpp_bad</i>
								Ban User IP
							</button>
							<button style="background: #991b1b; color: white; border: none; padding: 12px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
								<i class="material-icons">delete_forever</i>
								Delete Account
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
</div>

<div class="modal fade" id="notificationModal" tabindex="-1" aria-labelledby="notificationModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="notificationModalLabel">
					<i class="material-icons" style="vertical-align: middle;">campaign</i>
					Send Notification to User
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form method="POST" action="">
				<input type="hidden" name="action" value="send_notification">
				<input type="hidden" name="user_id" value="USR-12345">
				<div class="modal-body">
					<div class="mb-3">
						<label class="form-label">Notification Title <span style="color: #ef4444;">*</span></label>
						<input type="text" class="form-control" name="notificationTitle" placeholder="Enter notification title..." required />
					</div>

					<div class="mb-3">
						<label class="form-label">Notification Message <span style="color: #ef4444;">*</span></label>
						<textarea class="form-control" name="notificationMessage" rows="4" placeholder="Enter your message..." required></textarea>
					</div>

					<div class="row">
						<div class="col-md-6 mb-3">
							<label class="form-label">Icon</label>
							<select class="form-select" name="notificationIcon">
								<option value="campaign">Announcement</option>
								<option value="warning">Warning</option>
								<option value="info">Information</option>
								<option value="check_circle">Success</option>
								<option value="error">Error</option>
								<option value="notifications">Bell</option>
								<option value="verified">Verified</option>
								<option value="security">Security</option>
								<option value="update">Update</option>
								<option value="celebration">Celebration</option>
								<option value="stars">Stars</option>
								<option value="monetization_on">Money</option>
							</select>
						</div>

						<div class="col-md-6 mb-3">
							<label class="form-label">Color</label>
							<select class="form-select" name="notificationColor">
								<option value="red">Red (Urgent)</option>
								<option value="blue">Blue (Information)</option>
								<option value="green">Green (Success)</option>
								<option value="yellow">Yellow (Warning)</option>
								<option value="purple">Purple (Announcement)</option>
								<option value="orange">Orange (Alert)</option>
								<option value="gray">Gray (Neutral)</option>
							</select>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-warning">
						<i class="material-icons" style="font-size: 18px; vertical-align: middle;">send</i>
						Send Notification
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Reset Password Modal -->
<div class="modal fade" id="resetPasswordModal" tabindex="-1" aria-labelledby="resetPasswordModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="resetPasswordModalLabel">
					<i class="material-icons" style="vertical-align: middle;">password</i>
					Reset User Password
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form method="POST" action="">
				<input type="hidden" name="action" value="reset_password">
				<input type="hidden" name="user_id" value="USR-12345">
				<div class="modal-body">
					<div class="alert alert-info" style="display: flex; align-items: center; gap: 12px; margin-bottom: 20px;">
						<i class="material-icons">info</i>
						<div style="font-size: 13px;">
							A password reset link will be sent to the user's email address. The link will expire in 24 hours.
						</div>
					</div>

					<div class="mb-3">
						<label class="form-label">Send link to change user "John Michael Doe" password to <span style="color: #ef4444;">*</span></label>
						<input type="email" class="form-control" name="resetEmail" placeholder="Enter email address" value="johndoe@example.com" required />
						<div style="font-size: 12px; color: #6b7280; margin-top: 6px;">
							The password reset link will be sent to this email address
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary">
						<i class="material-icons" style="font-size: 18px; vertical-align: middle;">send</i>
						Send Reset Link
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Payment Method Modal -->
<div class="modal fade" id="paymentMethodModal" tabindex="-1" aria-labelledby="paymentMethodModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="paymentMethodModalLabel">
					<i class="material-icons" style="vertical-align: middle;">payment</i>
					Add Payment Method for User
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form method="POST" action="">
				<input type="hidden" name="action" value="add_payment_method">
				<input type="hidden" name="user_id" value="USR-12345">
				<div class="modal-body">
					<!-- Payment Type -->
					<div class="mb-3">
						<label class="form-label">Payment Type <span style="color: #ef4444;">*</span></label>
						<select class="form-select" name="paymentType" required>
							<option value="">Select payment type...</option>
							<option value="crypto">Cryptocurrency</option>
							<option value="bank">Bank Transfer</option>
							<option value="ewallet">E-Wallet</option>
						</select>
					</div>

					<!-- Payment Method Name -->
					<div class="mb-3">
						<label class="form-label">Method Name <span style="color: #ef4444;">*</span></label>
						<input type="text" class="form-control" name="methodName" placeholder="e.g., Bitcoin Wallet, PayPal, Bank of America" required />
					</div>

					<!-- Account Details -->
					<div class="mb-3">
						<label class="form-label">Account Details <span style="color: #ef4444;">*</span></label>
						<textarea class="form-control" name="accountDetails" rows="3" placeholder="Enter wallet address, account number, or other relevant details..." required></textarea>
						<div style="font-size: 12px; color: #6b7280; margin-top: 6px;">
							Enter all necessary information for this payment method
						</div>
					</div>

					<!-- Additional Information -->
					<div class="mb-3">
						<label class="form-label">Additional Information (Optional)</label>
						<textarea class="form-control" name="additionalInfo" rows="2" placeholder="Any additional notes or instructions..."></textarea>
					</div>

					<div class="form-check">
						<input class="form-check-input" type="checkbox" name="setAsDefault" id="setAsDefault">
						<label class="form-check-label" for="setAsDefault">
							Set as default payment method for this user
						</label>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary">
						<i class="material-icons" style="font-size: 18px; vertical-align: middle;">add</i>
						Add Payment Method
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Badge Management Modal -->
<!-- Badge Management Modal -->
<div class="modal fade" id="badgeModal" tabindex="-1" aria-labelledby="badgeModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="badgeModalLabel">
					<i class="material-icons" style="vertical-align: middle;">workspace_premium</i>
					Manage User Badges
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<!-- Current Badges -->
				<div class="mb-4">
					<h6 class="mb-2">Current Badges</h6>
					<div class="d-flex gap-2 flex-wrap">
						<span class="badge bg-primary d-flex align-items-center gap-1">
							<i class="material-icons" style="font-size: 14px;">verified</i>
							Verified
							<form method="POST" action="" style="display: inline; margin: 0;">
								<input type="hidden" name="action" value="remove_badge">
								<input type="hidden" name="user_id" value="USR-12345">
								<input type="hidden" name="badge_type" value="verified">
								<button type="submit" class="btn-close btn-close-white" style="font-size: 10px; padding: 0; margin-left: 4px;" aria-label="Remove"></button>
							</form>
						</span>
					</div>
				</div>

				<!-- Add New Badge -->
				<div>
					<h6 class="mb-3">Add Badge</h6>
					<div class="row g-3">
						<div class="col-6">
							<form method="POST" action="">
								<input type="hidden" name="action" value="add_badge">
								<input type="hidden" name="user_id" value="USR-12345">
								<input type="hidden" name="badge_type" value="verified">
								<button type="submit" class="btn btn-outline-primary w-100 text-start" style="padding: 12px;">
									<i class="material-icons" style="vertical-align: middle;">verified</i>
									<div class="fw-bold">Verified Badge</div>
									<small class="text-muted">Blue verification checkmark</small>
								</button>
							</form>
						</div>
						<div class="col-6">
							<form method="POST" action="">
								<input type="hidden" name="action" value="add_badge">
								<input type="hidden" name="user_id" value="USR-12345">
								<input type="hidden" name="badge_type" value="premium">
								<button type="submit" class="btn btn-outline-warning w-100 text-start" style="padding: 12px;">
									<i class="material-icons" style="vertical-align: middle;">workspace_premium</i>
									<div class="fw-bold">Premium Badge</div>
									<small class="text-muted">Gold premium star</small>
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<!-- Balance Edit Modal -->
<!-- Edit Balance Modal -->
<div class="modal fade" id="balanceModal" tabindex="-1" aria-labelledby="balanceModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="balanceModalLabel">Edit User Balances</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form method="POST" action="">
				<input type="hidden" name="action" value="update_user_balances">
				<input type="hidden" name="user_id" value="USR-12345">
				<div class="modal-body">
					<div class="mb-3">
						<label for="depositInput" class="form-label">Trading Balance</label>
						<input type="number" class="form-control" id="depositInput" name="trading_balance" value="30180.50" step="0.01" required>
					</div>
					<div class="mb-3">
						<label for="holdingInput" class="form-label">Holding Balance</label>
						<input type="number" class="form-control" id="holdingInput" name="holding_balance" value="8450.00" step="0.01" required>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary">
						<i class="material-icons" style="font-size: 16px; vertical-align: middle;">save</i>
						Save Changes
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Take Trade Modal -->
<div class="modal fade" id="takeTradeModal" tabindex="-1" aria-labelledby="takeTradeModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="takeTradeModalLabel">
					<i class="material-icons" style="vertical-align: middle;">trending_up</i>
					Take Manual Trade
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form id="takeTradeForm" method="POST" action="">
					<input type="hidden" name="action" value="take_manual_trade">
					<input type="hidden" name="user_id" value="USR-12345">

				<!-- Copied Traders -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Copied Traders <span style="color: #ef4444;">*</span>
					</label>
					<select name="tradeTrader" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
						<option value="">Select a trader...</option>
						<option value="johndoe">John Doe (@johndoe)</option>
						<option value="sarahkim">Sarah Kim (@sarahkim)</option>
						<option value="mikelee">Mike Lee (@mikelee)</option>
						<option value="manual">Manual Trade (No Trader)</option>
					</select>
					<div style="font-size: 12px; color: #6b7280; margin-top: 6px;">
						Select which copied trader this trade should be attributed to
					</div>
				</div>

				<!-- Market Type -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Market Type <span style="color: #ef4444;">*</span>
					</label>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
						<label class="radio-btn-wrapper">
							<input type="radio" name="marketType" value="crypto" class="radio-btn-input">
							<div class="radio-btn-display">Crypto</div>
						</label>
						<label class="radio-btn-wrapper">
							<input type="radio" name="marketType" value="stocks" class="radio-btn-input">
							<div class="radio-btn-display">Stocks</div>
						</label>
					</div>
				</div>

				<!-- Asset Selection -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Select Asset <span style="color: #ef4444;">*</span>
					</label>
					<select name="tradeAsset" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
						<option value="">Select an asset</option>
						<option value="BTC/USD">BTC/USD</option>
						<option value="ETH/USD">ETH/USD</option>
						<option value="XRP/USD">XRP/USD</option>
						<option value="AAPL">AAPL</option>
						<option value="GOOGL">GOOGL</option>
						<option value="TSLA">TSLA</option>
					</select>
				</div>

				<!-- Trade Direction -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Direction <span style="color: #ef4444;">*</span>
					</label>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
						<label class="radio-btn-wrapper">
							<input type="radio" name="direction" value="buy" class="radio-btn-input">
							<div class="radio-btn-display radio-btn-buy">Buy</div>
						</label>
						<label class="radio-btn-wrapper">
							<input type="radio" name="direction" value="sell" class="radio-btn-input">
							<div class="radio-btn-display radio-btn-sell">Sell</div>
						</label>
					</div>
				</div>

				<!-- Trade Amount -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Investment Amount <span style="color: #ef4444;">*</span>
					</label>
					<input type="number" name="tradeAmount" placeholder="Enter amount in USD" step="0.01" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
				</div>

				<!-- Leverage (Optional) -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Leverage (Optional)
					</label>
					<select name="tradeLeverage" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
						<option value="1">No Leverage (1x)</option>
						<option value="5">5x</option>
						<option value="10">10x</option>
						<option value="25">25x</option>
						<option value="50">50x</option>
						<option value="100">100x</option>
					</select>
				</div>

				<!-- Trade Duration -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Close After <span style="color: #ef4444;">*</span>
					</label>
					<select name="tradeDuration" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
						<option value="1">1 Minute</option>
						<option value="5">5 Minutes</option>
						<option value="15">15 Minutes</option>
						<option value="30">30 Minutes</option>
						<option value="60">1 Hour</option>
						<option value="240">4 Hours</option>
						<option value="1440">24 Hours</option>
					</select>
				</div>

				<!-- Profit or Loss -->
				<div style="margin-bottom: 20px;">
					<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
						Outcome <span style="color: #ef4444;">*</span>
					</label>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
						<label class="radio-btn-wrapper">
							<input type="radio" name="outcome" value="profit" class="radio-btn-input">
							<div class="radio-btn-display radio-btn-profit">Profit</div>
						</label>
						<label class="radio-btn-wrapper">
							<input type="radio" name="outcome" value="loss" class="radio-btn-input">
							<div class="radio-btn-display radio-btn-loss">Loss</div>
						</label>
					</div>
					<input type="number" name="outcomeAmount" placeholder="Enter profit/loss amount in USD" step="0.01" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
				</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
				<button type="submit" form="takeTradeForm" class="btn btn-danger">Execute Trade</button>
			</div>
		</div>
	</div>
</div>

<!-- Send Email Modal -->
<div class="modal fade" id="emailModal" tabindex="-1" aria-labelledby="emailModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="emailModalLabel">
					<i class="material-icons" style="vertical-align: middle;">email</i>
					Send Email to User
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form method="POST" action="">
				<input type="hidden" name="action" value="send_email">
				<input type="hidden" name="user_id" value="USR-12345">
				<div class="modal-body">
					<!-- Email Template Selection -->
					<div style="margin-bottom: 20px;">
						<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
							Select Email Template
						</label>
						<select name="emailTemplate" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
							<option value="">Choose a template...</option>
							<option value="welcome">Welcome Email</option>
							<option value="verification">Account Verification</option>
							<option value="warning">Account Warning</option>
							<option value="custom">Custom Email</option>
						</select>
					</div>

					<!-- Subject -->
					<div style="margin-bottom: 20px;">
						<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
							Subject <span style="color: #ef4444;">*</span>
						</label>
						<input type="text" name="emailSubject" placeholder="Enter email subject" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;" required>
					</div>

					<!-- Email Body -->
					<div style="margin-bottom: 20px;">
						<label style="display: block; font-size: 14px; font-weight: 600; color: #1a1a1a; margin-bottom: 8px;">
							Message <span style="color: #ef4444;">*</span>
						</label>
						<textarea name="emailBody" rows="10" placeholder="Enter your message here..." style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px; resize: vertical;" required></textarea>
						<div style="font-size: 12px; color: #6b7280; margin-top: 6px;">
							You can edit the template before sending
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border: none;">
						<i class="material-icons" style="font-size: 18px; vertical-align: middle;">send</i>
						Send Email
					</button>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock %}
{% block extra_script %}
<style>
	/* Toggle Switch Styling */
	.toggle-switch input:checked + .toggle-slider {
		background-color: #f59e0b;
	}

	.toggle-switch input:checked + .toggle-slider:before {
		transform: translateX(24px);
	}

	.toggle-slider:before {
		position: absolute;
		content: "";
		height: 18px;
		width: 18px;
		left: 4px;
		bottom: 4px;
		background-color: white;
		transition: .4s;
		border-radius: 50%;
	}
</style>

<script>
	// Custom Verification Settings Toggle
	document.addEventListener('DOMContentLoaded', function() {
		const toggle = document.getElementById('customSettingsToggle');
		const container = document.getElementById('customSettingsContainer');
		const badge = document.getElementById('customSettingsBadge');
		const useGlobalInput = document.getElementById('useGlobalInput');

		if (toggle && container && badge && useGlobalInput) {
			toggle.addEventListener('change', function() {
				if (this.checked) {
					// Enable custom settings
					container.style.opacity = '1';
					container.style.pointerEvents = 'auto';
					badge.textContent = 'Using Custom Settings';
					badge.style.background = 'rgba(16, 185, 129, 0.2)';
					badge.style.borderColor = '#10b981';
					badge.style.color = '#065f46';
					useGlobalInput.value = 'false';
				} else {
					// Disable custom settings (use global)
					container.style.opacity = '0.5';
					container.style.pointerEvents = 'none';
					badge.textContent = 'Using Global Settings';
					badge.style.background = 'rgba(251, 191, 36, 0.2)';
					badge.style.borderColor = '#fbbf24';
					badge.style.color = '#92400e';
					useGlobalInput.value = 'true';
				}
			});
		}
	});
</script>
{% endblock %}