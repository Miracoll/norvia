{% extends 'manager/base.html' %}
{% load static %}
{% block content %}
<div class="content-body">
    <div class="container-fluid">
        <!-- Page Header -->
        <div class="row">
            <div class="col-xl-12">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid #e2e8f0;">
                    <div>
                        <h2 style="font-size: 28px; font-weight: 700; color: #1e293b; display: flex; align-items: center; gap: 12px; margin: 0;">
                            <i class="material-icons" style="font-size: 32px; color: #ef4444;">trending_up</i>
                            Take Manual Trade
                        </h2>
                        <p style="color: #64748b; font-size: 14px; margin-top: 4px; margin-bottom: 0;">Execute manual trades for any user on the platform</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trade Form Card -->
        <div class="row">
            <div class="col-xl-12">
                <div class="card" style="background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);">
                    <div class="card-header" style="padding: 24px 30px; border-bottom: 2px solid #f1f5f9;">
                        <h4 style="font-size: 18px; font-weight: 700; color: #1a1a1a; margin: 0;">Trade Details</h4>
                    </div>
                    <div class="card-body" style="padding: 30px;">
                        <form method="POST" action="">
                            <input type="hidden" name="action" value="execute_trade">

                            <!-- User Selection -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Select User <span style="color: #ef4444;">*</span>
                                </label>
                                <select name="user_id" class="form-control" required style="width: 100%; height: 48px; padding: 10px 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                    <option value="">Choose user...</option>
                                    <option value="USR-12345">John Smith (@johnsmith) - USR-12345</option>
                                    <option value="USR-23456">Sarah Johnson (@sarahj) - USR-23456</option>
                                    <option value="USR-34567">Michael Chen (@mikechen) - USR-34567</option>
                                    <option value="USR-45678">Emily Davis (@emilyd) - USR-45678</option>
                                </select>
                                <small style="display: block; color: #64748b; font-size: 12px; margin-top: 6px; font-style: italic;">Select the user account for whom this trade will be executed</small>
                            </div>

                            <!-- Market Type -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Market Type <span style="color: #ef4444;">*</span>
                                </label>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="market_type" value="crypto" required class="radio-input">
                                        <div class="radio-card-display">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">currency_bitcoin</i>
                                            <span style="font-size: 14px; color: #1e293b;">Crypto</span>
                                        </div>
                                    </label>
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="market_type" value="stocks" required class="radio-input">
                                        <div class="radio-card-display">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">show_chart</i>
                                            <span style="font-size: 14px; color: #1e293b;">Stocks</span>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- Asset Selection -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Select Asset <span style="color: #ef4444;">*</span>
                                </label>
                                <select name="asset" class="form-control" required style="width: 100%; height: 48px; padding: 10px 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                    <option value="">Select asset...</option>
                                    <optgroup label="Crypto">
                                        <option value="BTC/USD">Bitcoin (BTC)</option>
                                        <option value="ETH/USD">Ethereum (ETH)</option>
                                        <option value="BNB/USD">Binance Coin (BNB)</option>
                                        <option value="SOL/USD">Solana (SOL)</option>
                                        <option value="XRP/USD">Ripple (XRP)</option>
                                    </optgroup>
                                    <optgroup label="Stocks">
                                        <option value="AAPL">Apple Inc. (AAPL)</option>
                                        <option value="GOOGL">Google (GOOGL)</option>
                                        <option value="MSFT">Microsoft (MSFT)</option>
                                        <option value="TSLA">Tesla (TSLA)</option>
                                        <option value="AMZN">Amazon (AMZN)</option>
                                    </optgroup>
                                </select>
                            </div>

                            <!-- Trade Direction -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Direction <span style="color: #ef4444;">*</span>
                                </label>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="direction" value="buy" required class="radio-input">
                                        <div class="radio-card-display radio-buy">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">arrow_upward</i>
                                            <span style="font-size: 14px; color: #1e293b;">Buy</span>
                                        </div>
                                    </label>
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="direction" value="sell" required class="radio-input">
                                        <div class="radio-card-display radio-sell">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">arrow_downward</i>
                                            <span style="font-size: 14px; color: #1e293b;">Sell</span>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <!-- Trade Amount -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Investment Amount <span style="color: #ef4444;">*</span>
                                </label>
                                <div style="position: relative;">
                                    <i class="material-icons" style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #94a3b8; font-size: 20px;">attach_money</i>
                                    <input type="number" name="amount" class="form-control" placeholder="Enter amount in USD" step="0.01" min="0" required style="width: 100%; height: 48px; padding: 10px 16px 10px 44px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                </div>
                            </div>

                            <!-- Trade Duration -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Close After <span style="color: #ef4444;">*</span>
                                </label>
                                <select name="duration" class="form-control" required style="width: 100%; height: 48px; padding: 10px 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                    <option value="1">1 Minute</option>
                                    <option value="5">5 Minutes</option>
                                    <option value="15">15 Minutes</option>
                                    <option value="30">30 Minutes</option>
                                    <option value="60">1 Hour</option>
                                    <option value="240">4 Hours</option>
                                    <option value="1440">24 Hours</option>
                                </select>
                            </div>

                            <!-- Outcome -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Outcome <span style="color: #ef4444;">*</span>
                                </label>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="outcome" value="profit" required class="radio-input">
                                        <div class="radio-card-display radio-profit">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">trending_up</i>
                                            <span style="font-size: 14px; color: #1e293b;">Profit</span>
                                        </div>
                                    </label>
                                    <label class="radio-card-wrapper">
                                        <input type="radio" name="outcome" value="loss" required class="radio-input">
                                        <div class="radio-card-display radio-loss">
                                            <i class="material-icons" style="font-size: 28px; color: #64748b;">trending_down</i>
                                            <span style="font-size: 14px; color: #1e293b;">Loss</span>
                                        </div>
                                    </label>
                                </div>
                                <div style="position: relative; margin-top: 12px;">
                                    <i class="material-icons" style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); color: #94a3b8; font-size: 20px;">payments</i>
                                    <input type="number" name="outcome_amount" class="form-control" placeholder="Enter profit/loss amount in USD" step="0.01" min="0" required style="width: 100%; height: 48px; padding: 10px 16px 10px 44px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                </div>
                            </div>

                            <!-- Copied Trader -->
                            <div style="margin-bottom: 24px;">
                                <label style="display: block; font-weight: 600; color: #1e293b; margin-bottom: 10px; font-size: 14px;">
                                    Copied Trader <span style="color: #ef4444;">*</span>
                                </label>
                                <select name="trader_id" class="form-control" required style="width: 100%; height: 48px; padding: 10px 16px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 14px; color: #1e293b; background: white;">
                                    <option value="">Select trader...</option>
                                    <option value="johndoe">John Doe (@johndoe)</option>
                                    <option value="sarahkim">Sarah Kim (@sarahkim)</option>
                                    <option value="mikelee">Mike Lee (@mikelee)</option>
                                    <option value="alexmartinez">Alex Martinez (@alexcrypto)</option>
                                </select>
                                <small style="display: block; color: #64748b; font-size: 12px; margin-top: 6px; font-style: italic;">This trade will appear as being copied from this trader</small>
                            </div>

                            <!-- Action Buttons -->
                            <div style="display: flex; gap: 12px; margin-top: 32px; padding-top: 24px; border-top: 2px solid #f1f5f9;">
                                <button type="reset" style="flex: 1; background: white; color: #64748b; border: 2px solid #e2e8f0; padding: 14px 28px; border-radius: 10px; font-size: 15px; font-weight: 700; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 8px;">
                                    <i class="material-icons" style="font-size: 20px;">refresh</i>
                                    Reset Form
                                </button>
                                <button type="submit" style="flex: 2; background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; border: none; padding: 14px 28px; border-radius: 10px; font-size: 15px; font-weight: 700; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; gap: 8px; box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);">
                                    <i class="material-icons" style="font-size: 20px;">check_circle</i>
                                    Execute Trade
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}