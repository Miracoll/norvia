{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Forgot Password - Norvia.io | Advanced Trading Platform</title>

	<!-- Favicon icon -->
	<link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon.png' %}">

	<!-- Material Icons -->
	<link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">

	<!-- Custom Styles -->

	<link href="{% static 'css/global.css' %}" rel="stylesheet">
</head>
<body class="page-forgotpwd">
	<div class="auth-container">
		<div class="auth-card">
			<!-- Header -->
			<div class="auth-header">
				<div class="auth-logo">
					<svg width="40" height="40" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M5 25V5L15 15L25 5V25L15 15L5 25Z" fill="url(#blue-gradient)"/>
						<defs>
							<linearGradient id="blue-gradient" x1="5" y1="5" x2="25" y2="25" gradientUnits="userSpaceOnUse">
								<stop offset="0%" stop-color="#01A3FF"/>
								<stop offset="100%" stop-color="#0284c7"/>
							</linearGradient>
						</defs>
					</svg>
					<span class="auth-logo-text">Norvia.io</span>
				</div>

				<div class="auth-icon-wrapper">
					<i class="material-icons">lock_reset</i>
				</div>

				<h1 class="auth-title">Forgot Password?</h1>
				<p class="auth-subtitle">
					No worries! Enter your email address and we'll send you a link to reset your password.
				</p>
				<a href="{% url 'signin' %}" class="back-link">
					<i class="material-icons">arrow_back</i>
					<span>Back to Sign In</span>
				</a>
			</div>

			<!-- Body -->
			<div class="auth-body">
				<!-- Success Message (Hidden by default) -->
				<div class="success-message" id="successMessage">
					<i class="material-icons">check_circle</i>
					<div>
						<strong>Check your email!</strong>
						We've sent a password reset link to your email address. Please check your inbox and follow the instructions.
					</div>
				</div>

				<!-- Error Message (Hidden by default) -->
				<div class="error-message" id="errorMessage">
					<i class="material-icons">error</i>
					<span id="errorText">Something went wrong. Please try again.</span>
				</div>

				<form id="forgotPasswordForm">
					{% csrf_token %}
					<!-- Email -->
					<div class="form-group">
						<label class="form-label" for="email">Email Address</label>
						<div class="form-input-wrapper">
							<input type="email" class="form-input" id="email" placeholder="Enter your email address" required>
							<i class="material-icons form-icon">email</i>
						</div>
					</div>

					<!-- Submit Button -->
					<button type="submit" class="btn-submit">
						<span>Send Reset Link</span>
						<i class="material-icons">send</i>
					</button>
				</form>

				<!-- Info Box -->
				<div class="info-box">
					<i class="material-icons">info</i>
					<div class="info-box-content">
						<strong>Didn't receive the email?</strong><br>
						Check your spam folder or try resending the link. If you still need help, contact our support team.
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Email validation and error display - UI only
		function showError(message) {
			const errorDiv = document.getElementById('errorMessage');
			const errorText = document.getElementById('errorText');
			errorText.textContent = message;
			errorDiv.style.display = 'flex';

			window.scrollTo({ top: 0, behavior: 'smooth' });

			setTimeout(() => {
				errorDiv.style.display = 'none';
			}, 5000);
		}

		// Client-side email validation (optional - Django will validate server-side)
		document.getElementById('forgotPasswordForm').addEventListener('submit', function(e) {
			const email = document.getElementById('email').value;
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

			if (!emailRegex.test(email)) {
				e.preventDefault();
				showError('Please enter a valid email address');
				return false;
			}

			// Form will submit to Django backend
			// Django will handle sending reset email and showing success message
		});
	</script>
<script src="{% static 'js/copy-to-clipboard.js' %}"></script>
</body>
</html>
