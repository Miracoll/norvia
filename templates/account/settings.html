{% extends "account/base.html" %}
{% load static %}

{% block title %}Settings{% endblock %}

{% block body_class %}page-settings{% endblock %}

{% block content %}
<div class="content-body default-height">
			<!-- row -->
			<div class="container-fluid">
				<!-- Page Title -->
				<div class="row">
					<div class="col-xl-12">
						<div class="page-titles">
							<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
								<ol class="breadcrumb">
								  <li class="breadcrumb-item"><a href="{% url 'home' %}">Dashboard</a></li>
								  <li class="breadcrumb-item"><a href="javascript:void(0);">Account</a></li>
								  <li class="breadcrumb-item active" aria-current="page">Settings</li>
								</ol>
							  </nav>
						</div>
					</div>
				</div>

				<form action="" method="post">
				{% csrf_token %}	
				<!-- Settings Content -->
				<div class="row">
					<!-- Left Column -->
						<div class="col-xl-8">
							<!-- Account Information -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">account_circle</i>
									Account Information
								</h4>
								<p class="settings-card-subtitle">Update your email and phone number (verification required)</p>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Email Address</span>
										<span class="settings-description">
										{{request.user.email}}
										{% if request.user.verified_email %}
										<i class="material-icons text-success" style="font-size: 16px; vertical-align: middle; margin-left: 6px;" title="Verified">verified</i>
										{% endif %}
									</span>
									</div>
									<button class="btn-settings" data-bs-toggle="modal" data-bs-target="#emailModal">
										<i class="material-icons">email</i>
										<span>Change Email</span>
									</button>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Phone Number</span>
										<span class="settings-description">
										{{request.user.mobile}}
										{% if request.user.verified_phone %}
										<i class="material-icons text-success" style="font-size: 16px; vertical-align: middle; margin-left: 6px;" title="Verified">verified</i>
										{% endif %}
									</span>
									</div>
									<button class="btn-settings" data-bs-toggle="modal" data-bs-target="#phoneModal">
										<i class="material-icons">phone</i>
										<span>Change Phone</span>
									</button>
								</div>
							</div>
	
							<div class="settings-card" style="background: #fef3c7; border-color: #fde68a;">
								<div style="display: flex; gap: 12px; align-items: flex-start;">
									<i class="material-icons" style="color: #d97706; font-size: 24px;">info</i>
									<div>
										<h5 style="font-size: 14px; font-weight: 600; color: #92400e; margin-bottom: 6px;">KYC-Verified Information</h5>
										<p style="font-size: 13px; color: #92400e; margin: 0; line-height: 1.6;">
											To update your name, date of birth, or address, please contact our support team or submit a new KYC verification request. This helps us maintain account security and regulatory compliance.
										</p>
									</div>
								</div>
							</div>
	
							<!-- Security Settings -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">security</i>
									Security Settings
								</h4>
								<p class="settings-card-subtitle">Manage your account security and authentication methods</p>
	
								<!-- 2FA Section - Change data-2fa-enabled to "false" to show Setup state -->
								<div class="settings-row" id="twoFASection" data-2fa-enabled="true">
									<!-- When 2FA is ENABLED -->
									<div class="settings-label-group" id="twoFAEnabled">
										<span class="settings-label">Two-Factor Authentication (2FA)</span>
										<span class="settings-description" style="display: flex; align-items: center; gap: 8px;">
											<span class="status-badge active" style="padding: 4px 10px;">
												<i class="material-icons" style="font-size: 14px;">check_circle</i>
												Enabled
											</span>
											<span style="color: #6b7280;">Google Authenticator with phone backup</span>
										</span>
									</div>
									<!-- When 2FA is DISABLED -->
									<div class="settings-label-group" id="twoFADisabled" style="display: none;">
										<span class="settings-label">Two-Factor Authentication (2FA)</span>
										<span class="settings-description">Add an extra layer of security with Google Authenticator</span>
									</div>
	
									<!-- Buttons -->
									<div style="display: flex; gap: 10px;">
									<a href="{% url 'two_factor' %}" class="btn-settings" id="btn2FAManage">
										<i class="material-icons">settings</i>
										<span>Manage 2FA</span>
									</a>
										<button class="btn-settings btn-settings-danger" id="btn2FADisable" data-bs-toggle="modal" data-bs-target="#disable2FAModal">
											<i class="material-icons">block</i>
											<span>Disable</span>
										</button>
										<a href="#" class="btn-settings" id="btn2FASetup" style="display: none;">
											<i class="material-icons">security</i>
											<span>Setup 2FA</span>
										</a>
									</div>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Login Notifications</span>
										<span class="settings-description">Get notified when someone logs into your account</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.login_notification %}checked{% endif %} name="login_notification">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Withdrawal Whitelist</span>
										<span class="settings-description">Only allow withdrawals to whitelisted addresses</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.withdrawal_whitlist %}checked{% endif %} name="withdrawal_whitlist">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Password</span>
										<span class="settings-description">Last changed 2 weeks ago</span>
									</div>
									<a href="{% url 'change_password' %}" class="btn-settings">
										<i class="material-icons">vpn_key</i>
										<span>Change Password</span>
									</a>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Active Sessions</span>
										<span class="settings-description">3 devices currently logged in</span>
									</div>
									<button class="btn-settings">
										<i class="material-icons">devices</i>
										<span>Manage Sessions</span>
									</button>
								</div>
							</div>
	
							<!-- Security Questions -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">help_outline</i>
									Security Questions
								</h4>
								<p class="settings-card-subtitle">These questions help verify your identity for account recovery</p>
	
								<div class="security-question-item">
									<span class="security-question-label">Question 1</span>
									<span class="security-question-text">{{request.user.security_question_1}}</span>
								</div>
	
								<div class="security-question-item">
									<span class="security-question-label">Question 2</span>
									<span class="security-question-text">{{request.user.security_question_2}}</span>
								</div>
	
								<div class="security-question-item">
									<span class="security-question-label">Question 3</span>
									<span class="security-question-text">{{request.user.security_question_3}}</span>
								</div>
	
								<div class="settings-row" style="padding-top: 20px; border-top: 2px solid #f3f4f6; margin-top: 16px;">
									<div class="settings-label-group">
										<span class="settings-label">Update Security Questions</span>
										<span class="settings-description">Change your security questions and answers</span>
									</div>
									<button class="btn-settings" data-bs-toggle="modal" data-bs-target="#securityQuestionsModal">
										<i class="material-icons">edit</i>
										<span>Edit Questions</span>
									</button>
								</div>
							</div>
							<!-- Trading Preferences -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">tune</i>
									Trading Preferences
								</h4>
								<p class="settings-card-subtitle">Customize your trading experience and default settings</p>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Default Leverage</span>
										<span class="settings-description">Set your default leverage for copy trading</span>
									</div>
									<select class="settings-select" required name="leverage">
										<option value="1" {% if request.user.leverage == 1 %}selected{% endif %}>1x (No Leverage)</option>
										<option value="2" {% if request.user.leverage == 2 %}selected{% endif %}>2x</option>
										<option value="5" {% if request.user.leverage == 5 %}selected{% endif %}>5x</option>
										<option value="10" {% if request.user.leverage == 10 %}selected{% endif %}>10x</option>
										<option value="20" {% if request.user.leverage == 20 %}selected{% endif %}>20x</option>
										<option value="50" {% if request.user.leverage == 50 %}selected{% endif %}>50x</option>
										<option value="100" {% if request.user.leverage == 100 %}selected{% endif %}>100x</option>
									</select>									
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Risk Level</span>
										<span class="settings-description">Your preferred risk tolerance</span>
									</div>
									<select class="settings-select" required name="risk">
										<option value="low" {% if request.user.risk_tolerance == 'low' %}selected{% endif %}>Low Risk</option>
										<option value="moderate" {% if request.user.risk_tolerance == 'moderate' %}selected{% endif %}>Moderate Risk</option>
										<option value="high" {% if request.user.risk_tolerance == 'high' %}selected{% endif %}>High Risk</option>
									</select>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Auto-Copy New Traders</span>
										<span class="settings-description">Automatically copy trades from new traders you follow</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.auto_copy_new_trader %} checked{% endif %} name="auto_copy">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Stop Loss Protection</span>
										<span class="settings-description">Automatically set stop loss for all copy trades</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.stop_loss_protection %}checked{% endif %} name="stop_loss_protection">
										<span class="toggle-slider"></span>
									</label>
								</div>
							</div>
	
							<!-- Notification Preferences -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">notifications</i>
									Notification Preferences
								</h4>
								<p class="settings-card-subtitle">Choose what notifications you want to receive</p>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Email Notifications</span>
										<span class="settings-description">Receive updates via email</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.email_notification %}checked{% endif %} name="email_notification">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Trade Notifications</span>
										<span class="settings-description">Get notified when traders you copy open/close positions</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.trade_notification %}checked{% endif %} name="trade_notification">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Deposit & Withdrawal Alerts</span>
										<span class="settings-description">Notifications for all wallet transactions</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.deposit_withdrawal_alert %}checked{% endif %} name="deposit-withdrawal_alert">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Weekly Performance Report</span>
										<span class="settings-description">Receive weekly summary of your trading performance</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.weekly_performance_report %}checked{% endif %} name="weekly_performance_report">
										<span class="toggle-slider"></span>
									</label>
								</div>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Marketing Communications</span>
										<span class="settings-description">Receive updates about new features and promotions</span>
									</div>
									<label class="toggle-switch">
										<input type="checkbox" {% if request.user.marketing_communication %}checked{% endif %} name="marketing_communication">
										<span class="toggle-slider"></span>
									</label>
								</div>
							</div>
						</div>
	
						<!-- Right Column -->
						<div class="col-xl-4">
							<!-- Language & Region -->
							<div class="settings-card">
								<h4 class="settings-card-title">
									<i class="material-icons">language</i>
									Language & Region
								</h4>
								<p class="settings-card-subtitle">Set your preferred language and timezone</p>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Language</span>
									</div>
								</div>
								<select class="settings-select w-100 mb-3" name="language">
									<option value="en" {% if request.user.language == 'en' %}selected{%endif%}>English</option>
									<option value="es" {% if request.user.language == 'es' %}selected{%endif%}>Español</option>
									<option value="fr" {% if request.user.language == 'fr' %}selected{%endif%}>Français</option>
									<option value="de" {% if request.user.language == 'de' %}selected{%endif%}>Deutsch</option>
									<option value="zh" {% if request.user.language == 'zh' %}selected{%endif%}>中文</option>
									<option value="ja" {% if request.user.language == 'ja' %}selected{%endif%}>日本語</option>
									<option value="ar" {% if request.user.language == 'ar' %}selected{%endif%}>العربية</option>
								</select>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Timezone</span>
									</div>
								</div>
								<select class="settings-select w-100 mb-3" name="timezone">
									<option value="utc" {% if request.user.timezone == 'utc' %}selected{% endif %}>UTC (GMT+0)</option>
									<option value="est" {% if request.user.timezone == 'est' %}selected{% endif %}>EST (GMT-5)</option>
									<option value="pst" {% if request.user.timezone == 'pst' %}selected{% endif %}>PST (GMT-8)</option>
									<option value="gmt" {% if request.user.timezone == 'gmt' %}selected{% endif %}>GMT (GMT+0)</option>
									<option value="cet" {% if request.user.timezone == 'cet' %}selected{% endif %}>CET (GMT+1)</option>
									<option value="ist" {% if request.user.timezone == 'ist' %}selected{% endif %}>IST (GMT+5:30)</option>
									<option value="jst" {% if request.user.timezone == 'jst' %}selected{% endif %}>JST (GMT+9)</option>
								</select>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label">Currency Display</span>
									</div>
								</div>
								<select class="settings-select w-100" name="currency">
									<option value="usd" {% if request.user.currency == 'usd' %}selected{% endif %}>USD ($)</option>
									<option value="eur" {% if request.user.currency == 'eur' %}selected{% endif %}>EUR (€)</option>
									<option value="gbp" {% if request.user.currency == 'gbp' %}selected{% endif %}>GBP (£)</option>
									<option value="jpy" {% if request.user.currency == 'jpy' %}selected{% endif %}>JPY (¥)</option>
									<option value="btc" {% if request.user.currency == 'btc' %}selected{% endif %}>BTC (₿)</option>
								</select>
							</div>
	
							<!-- Danger Zone -->
							<div class="settings-card" style="border-color: #fee2e2;">
								<h4 class="settings-card-title" style="color: #dc2626;">
									<i class="material-icons">warning</i>
									Danger Zone
								</h4>
								<p class="settings-card-subtitle">Irreversible actions that affect your account</p>
	
								<div class="settings-row">
									<div class="settings-label-group">
										<span class="settings-label" style="color: #dc2626;">Close Account</span>
										<span class="settings-description">Permanently delete your account and all data</span>
									</div>
								</div>
								<button class="btn-settings btn-settings-danger w-100 justify-content-center">
									<i class="material-icons">delete_forever</i>
									<span>Close Account</span>
								</button>
							</div>
						</div>
						
					</div>
					
					<!-- Save Button -->
					<div class="row">
						<div class="col-12">
							<div class="text-end mb-4">
								<button class="btn-save" type="submit" name="general">
									<i class="material-icons">save</i>
									<span>Save All Changes</span>
								</button>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
		<!-- Change Email Modal -->
	<div id="emailModal" class="modal fade" tabindex="-1" aria-labelledby="emailModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title" id="emailModalLabel"><i class="material-icons">email</i> Change Email Address</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form id="emailChangeForm" method="post">
				{% csrf_token %}
				<div class="modal-body">
				<div class="info-box-modal">
					<i class="material-icons">info</i>
					<p>A verification code will be sent to both your current and new email addresses. You must verify both to complete the change.</p>
				</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Current Email</label>
						<input type="email" class="form-input-modal" value="{{request.user.email}}" readonly>
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">New Email Address *</label>
						<input type="email" class="form-input-modal" id="newEmail" placeholder="Enter your new email address" required name="email">
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Confirm New Email *</label>
						<input type="email" class="form-input-modal" id="confirmEmail" placeholder="Confirm your new email address" required name="emailConfirm">
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Account Password *</label>
						<input type="password" class="form-input-modal" id="emailPassword" placeholder="Enter your password for verification" required name="password">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary" name="email">
						<i class="material-icons">send</i>
						Send Verification Code
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Change Phone Modal -->
	<div id="phoneModal" class="modal fade" tabindex="-1" aria-labelledby="phoneModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
				<div class="modal-header">
				<h3 class="modal-title" id="phoneModalLabel"><i class="material-icons">phone</i> Change Phone Number</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form id="phoneChangeForm" method="post">
				{% csrf_token %}
					<div class="modal-body">
				<div class="info-box-modal">
					<i class="material-icons">info</i>
					<p>A verification code will be sent via SMS to both your current and new phone numbers. You must verify both to complete the change.</p>
				</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Current Phone Number</label>
						<input type="tel" class="form-input-modal" value="+1 (555) 123-4567" readonly>
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">New Phone Number *</label>
						<input type="tel" class="form-input-modal" id="newPhone" placeholder="+1 (555) 000-0000" required name="phone">
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Confirm New Phone Number *</label>
						<input type="tel" class="form-input-modal" id="confirmPhone" placeholder="+1 (555) 000-0000" required name="phoneConfirm">
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Account Password *</label>
						<input type="password" class="form-input-modal" id="phonePassword" placeholder="Enter your password for verification" required name="password">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary">
						<i class="material-icons">send</i>
						Send Verification Code
					</button>
				</div>
			</div>
		</form>
	</div>
</div>

<!-- Security Questions Modal -->
	<div id="securityQuestionsModal" class="modal fade" tabindex="-1" aria-labelledby="securityQuestionsModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
				<div class="modal-header">
				<h3 class="modal-title" id="securityQuestionsModalLabel"><i class="material-icons">help_outline</i> Update Security Questions</h3>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<form id="securityQuestionsForm" method="post">
				{% csrf_token %}
					<div class="modal-body">
				<div class="info-box-modal">
					<i class="material-icons">info</i>
					<p>Choose 3 different security questions and provide answers that only you would know. These will be used for account recovery.</p>
				</div>

					<!-- Question 1 -->
					<div class="form-group-modal">
						<label class="form-label-modal">Security Question 1 *</label>
						<select class="form-select-modal" id="question1" required name="question1">
							<option value="">Select a question</option>
							<option value="What was the name of your first pet?">What was the name of your first pet?</option>
							<option value="What city were you born in?">What city were you born in?</option>
							<option value="What was the name of your elementary school?">What was the name of your elementary school?</option>
							<option value="What was your favorite teacher's name?">What was your favorite teacher's name?</option>
							<option value="What is your childhood best friend's name?">What is your childhood best friend's name?</option>
							<option value="What street did you grow up on?">What street did you grow up on?</option>
							<option value="What was the make of your first car?">What was the make of your first car?</option>
						</select>
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Answer 1 *</label>
						<input type="text" class="form-input-modal" id="answer1" placeholder="Enter your answer" required name="answer1">
					</div>

					<!-- Question 2 -->
					<div class="form-group-modal">
						<label class="form-label-modal">Security Question 2 *</label>
						<select class="form-select-modal" id="question2" required name="question2">
							<option value="">Select a question</option>
							<option value="What is your mother's maiden name?">What is your mother's maiden name?</option>
							<option value="What city were you born in?">What city were you born in?</option>
							<option value="What is your favorite food?">What is your favorite food?</option>
							<option value="What is your favorite book?">What is your favorite book?</option>
							<option value="What was your favorite childhood movie?">What was your favorite childhood movie?</option>
							<option value="Where was your favorite vacation destination?">Where was your favorite vacation destination?</option>
							<option value="What was your childhood hobby?">What was your childhood hobby?</option>
						</select>
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Answer 2 *</label>
						<input type="text" class="form-input-modal" id="answer2" placeholder="Enter your answer" required name="answer2">
					</div>

					<!-- Question 3 -->
					<div class="form-group-modal">
						<label class="form-label-modal">Security Question 3 *</label>
						<select class="form-select-modal" id="question3" required name="question3">
							<option value="">Select a question</option>
							<option value="What was your first job?">What was your first job?</option>
							<option value="What is your oldest sibling's middle name?">What is your oldest sibling's middle name?</option>
							<option value="What musical instrument did you learn?">What musical instrument did you learn?</option>
							<option value="What was your favorite sport in school?">What was your favorite sport in school?</option>
							<option value="What was your childhood nickname?">What was your childhood nickname?</option>
							<option value="What is your dream car model?">What is your dream car model?</option>
							<option value="What country would you most like to visit?">What country would you most like to visit?</option>
						</select>
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Answer 3 *</label>
						<input type="text" class="form-input-modal" id="answer3" placeholder="Enter your answer" required name="answer3">
					</div>

					<div class="form-group-modal">
						<label class="form-label-modal">Account Password *</label>
						<input type="password" class="form-input-modal" id="securityPassword" placeholder="Enter your password for verification" required name="password">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<button type="submit" class="btn btn-primary" name="questions">
						<i class="material-icons">save</i>
						Save Security Questions
					</button>
				</div>
			</div>
		</form>
	</div>
</div>

<!--**********************************
		Scripts
	***********************************-->
	<!-- Required vendors -->

<!-- Footer -->
{% endblock %}

{% block page_css %}
<style>
/* Custom Modal Styles for Settings Page */
.page-settings .modal-dialog {
	max-width: 500px;
	margin: 80px auto 20px;
}

.page-settings .modal-content {
	border-radius: 16px !important;
	border: none;
	box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
}

.page-settings .modal-header {
	padding: 24px 30px;
	border-bottom: 2px solid #f3f4f6;
	border-top-left-radius: 16px !important;
	border-top-right-radius: 16px !important;
}

.page-settings .modal-title {
	font-size: 22px;
	font-weight: 700;
	color: #1a1a1a;
	display: flex;
	align-items: center;
	gap: 10px;
}

.page-settings .modal-title .material-icons {
	font-size: 24px;
}

.page-settings .btn-close {
	opacity: 0.5;
}

.page-settings .btn-close:hover {
	opacity: 1;
}

.page-settings .modal-body {
	padding: 30px;
}

.page-settings .info-box-modal {
	background: #f0f9ff;
	border: 2px solid #bfdbfe;
	border-radius: 12px;
	padding: 16px;
	margin-bottom: 24px;
	display: flex;
	align-items: flex-start;
	gap: 12px;
}

.page-settings .info-box-modal .material-icons {
	color: #3b82f6;
	font-size: 20px;
	flex-shrink: 0;
}

.page-settings .info-box-modal p {
	margin: 0;
	font-size: 13px;
	color: #1e40af;
	line-height: 1.5;
}

.page-settings .form-group-modal {
	margin-bottom: 20px;
}

.page-settings .form-label-modal {
	font-size: 14px;
	font-weight: 600;
	color: #374151;
	margin-bottom: 8px;
	display: block;
}

.page-settings .form-input-modal,
.page-settings .form-select-modal {
	width: 100%;
	height: 50px;
	padding: 0 16px;
	font-size: 15px;
	color: #1a1a1a;
	background: white;
	border: 2px solid #e5e7eb;
	border-radius: 10px !important;
	transition: all 0.3s ease;
}

.page-settings .form-input-modal:focus,
.page-settings .form-select-modal:focus {
	outline: none;
	border-color: var(--primary);
	box-shadow: 0 0 0 3px rgba(1, 163, 255, 0.1);
}

.page-settings .form-input-modal:read-only {
	background: #f9fafb;
	color: #6b7280;
}

.page-settings .modal-footer {
	padding: 20px 30px;
	border-top: 2px solid #f3f4f6;
	display: flex;
	gap: 12px;
	justify-content: flex-end;
	border-bottom-left-radius: 16px !important;
	border-bottom-right-radius: 16px !important;
}

.page-settings .modal-footer .btn {
	padding: 12px 28px;
	border-radius: 12px !important;
	font-size: 15px;
	font-weight: 600;
	border: none !important;
	cursor: pointer;
	transition: all 0.3s ease;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	min-width: 140px;
}

.page-settings .modal-footer .btn .material-icons {
	font-size: 20px;
}

.page-settings .modal-footer .btn-secondary {
	--bs-btn-bg: #f1f3f5 !important;
	--bs-btn-border-color: #f1f3f5 !important;
	--bs-btn-color: #687076 !important;
	--bs-btn-hover-bg: #e5e7eb !important;
	--bs-btn-hover-border-color: #e5e7eb !important;
	--bs-btn-hover-color: #4a5058 !important;
	--bs-btn-active-bg: #e5e7eb !important;
	--bs-btn-active-border-color: #e5e7eb !important;
	background-color: #f1f3f5 !important;
	border-color: #f1f3f5 !important;
	color: #687076 !important;
}

.page-settings .modal-footer .btn-secondary:hover,
.page-settings .modal-footer .btn-secondary:focus,
.page-settings .modal-footer .btn-secondary:active {
	background-color: #e5e7eb !important;
	border-color: #e5e7eb !important;
	color: #4a5058 !important;
}

.page-settings .modal-footer .btn-primary {
	--bs-btn-bg: #00a3ff !important;
	--bs-btn-border-color: #00a3ff !important;
	--bs-btn-color: #ffffff !important;
	--bs-btn-hover-bg: #0091e6 !important;
	--bs-btn-hover-border-color: #0091e6 !important;
	--bs-btn-hover-color: #ffffff !important;
	--bs-btn-active-bg: #0091e6 !important;
	--bs-btn-active-border-color: #0091e6 !important;
	background-color: #00a3ff !important;
	border-color: #00a3ff !important;
	color: #ffffff !important;
}

.page-settings .modal-footer .btn-primary:hover,
.page-settings .modal-footer .btn-primary:focus,
.page-settings .modal-footer .btn-primary:active {
	background-color: #0091e6 !important;
	border-color: #0091e6 !important;
	color: #ffffff !important;
	box-shadow: 0 4px 12px rgba(0, 163, 255, 0.3) !important;
	transform: translateY(-1px);
}

/* Modal backdrop */
.page-settings .modal-backdrop {
	backdrop-filter: blur(4px);
	background-color: rgba(0, 0, 0, 0.6);
}
</style>
{% endblock %}

{% block page_scripts %}
<script>
// Settings page - Django will handle all form submissions
</script>
{% endblock %}
